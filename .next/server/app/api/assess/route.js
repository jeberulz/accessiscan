"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/assess/route";
exports.ids = ["app/api/assess/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("puppeteer");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fassess%2Froute&page=%2Fapi%2Fassess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassess%2Froute.ts&appDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fassess%2Froute&page=%2Fapi%2Fassess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassess%2Froute.ts&appDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_jeberulz_Downloads_AccessiScan_src_app_api_assess_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/assess/route.ts */ \"(rsc)/./src/app/api/assess/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_jeberulz_Downloads_AccessiScan_src_app_api_assess_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_jeberulz_Downloads_AccessiScan_src_app_api_assess_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/assess/route\",\n        pathname: \"/api/assess\",\n        filename: \"route\",\n        bundlePath: \"app/api/assess/route\"\n    },\n    resolvedPagePath: \"/Users/jeberulz/Downloads/AccessiScan/src/app/api/assess/route.ts\",\n    nextConfigOutput,\n    userland: _Users_jeberulz_Downloads_AccessiScan_src_app_api_assess_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/assess/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhc3Nlc3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFzc2VzcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFzc2VzcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmplYmVydWx6JTJGRG93bmxvYWRzJTJGQWNjZXNzaVNjYW4lMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGamViZXJ1bHolMkZEb3dubG9hZHMlMkZBY2Nlc3NpU2NhbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDaUI7QUFDOUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY2Nlc3Npc2Nhbi8/YTViZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvamViZXJ1bHovRG93bmxvYWRzL0FjY2Vzc2lTY2FuL3NyYy9hcHAvYXBpL2Fzc2Vzcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXNzZXNzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXNzZXNzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hc3Nlc3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvamViZXJ1bHovRG93bmxvYWRzL0FjY2Vzc2lTY2FuL3NyYy9hcHAvYXBpL2Fzc2Vzcy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXNzZXNzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fassess%2Froute&page=%2Fapi%2Fassess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassess%2Froute.ts&appDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/assess/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/assess/route.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _shared_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/shared/types */ \"(rsc)/./src/shared/types.ts\");\n/* harmony import */ var _lib_prompt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prompt */ \"(rsc)/./src/lib/prompt.ts\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabase-server */ \"(rsc)/./src/lib/supabase-server.ts\");\n/* harmony import */ var _lib_crawler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/crawler */ \"(rsc)/./src/lib/crawler.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_crawler__WEBPACK_IMPORTED_MODULE_4__]);\n_lib_crawler__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\nconst runtime = \"nodejs\";\nconst RequestSchema = _shared_types__WEBPACK_IMPORTED_MODULE_1__.AssessmentRequestSchema;\n// Helper to extract first balanced JSON block before HUMAN_SUMMARY\nconst extractFirstJsonObject = (s)=>{\n    const summaryIdx = s.indexOf(\"--- HUMAN_SUMMARY ---\");\n    const text = summaryIdx >= 0 ? s.slice(0, summaryIdx) : s;\n    const start = text.indexOf(\"{\");\n    if (start < 0) return null;\n    let depth = 0;\n    let inString = false;\n    let escape = false;\n    for(let i = start; i < text.length; i++){\n        const ch = text[i];\n        if (inString) {\n            if (escape) {\n                escape = false;\n                continue;\n            }\n            if (ch === \"\\\\\") {\n                escape = true;\n                continue;\n            }\n            if (ch === '\"') inString = false;\n            continue;\n        }\n        if (ch === '\"') {\n            inString = true;\n            continue;\n        }\n        if (ch === \"{\") depth++;\n        else if (ch === \"}\") {\n            depth--;\n            if (depth === 0) return text.slice(start, i + 1);\n        }\n    }\n    return null;\n};\n// Zod schema for the optimized MACHINE_OUTPUT\nconst AiOptimizedSchema = zod__WEBPACK_IMPORTED_MODULE_5__.object({\n    audit_id: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n    target_summary: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        type: zod__WEBPACK_IMPORTED_MODULE_5__[\"enum\"]([\n            \"web\",\n            \"ios\",\n            \"android\",\n            \"hybrid\"\n        ]).optional(),\n        pages_or_components: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n        assumptions: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional()\n    }).optional(),\n    overall: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        grade: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n        score_0_to_100: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        confidence_0_to_1: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n        pour_scores: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n            perceivable: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n            operable: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n            understandable: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n            robust: zod__WEBPACK_IMPORTED_MODULE_5__.number()\n        })\n    }),\n    top_findings: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n        title: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n        wcag_refs: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n        pour: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        severity_1_to_5: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        reach_1_to_5: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        frequency_1_to_5: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        impact_score: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        effort_1_to_5: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        priority_score: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        confidence_0_to_1: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n        affected_user_groups: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n        business_impact: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        evidence: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n            selectors: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n            snippets: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n            colors: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.object({\n                fg: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n                bg: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n                contrast: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional()\n            })).optional(),\n            locations: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n            instance_count: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n            specific_files: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional()\n        }).optional(),\n        recommended_fix: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n        developer_notes: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        test_steps: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional()\n    })),\n    summary_stats: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        issue_count: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        high_priority_count: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n        est_time_to_relief: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        estimated_users_impacted_percent: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional()\n    }),\n    quick_wins: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n        why_now: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        eta: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional()\n    })).optional(),\n    visualization_spec: zod__WEBPACK_IMPORTED_MODULE_5__.any().optional(),\n    cta: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        next_steps: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n        lead_capture_copy: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        lead_capture_fields: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional()\n    }).optional(),\n    disclaimers: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional()\n});\n// Existing lightweight schemas for previous JSON format\nconst AiIssueSchema = zod__WEBPACK_IMPORTED_MODULE_5__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    category: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n    title: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n    description: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n    userImpact: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n    impact: zod__WEBPACK_IMPORTED_MODULE_5__[\"enum\"]([\n        \"critical\",\n        \"high\",\n        \"medium\",\n        \"low\"\n    ]).optional().default(\"medium\"),\n    wcagRefs: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n    wcagLevel: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional().default(\"WCAG 2.2 AA\"),\n    instances: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    selectors: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n    evidence: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        snippets: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional()\n    }).optional(),\n    codeExample: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        bad: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        good: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional()\n    }).optional(),\n    remediationSteps: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n    timeEstimate: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n    severity: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    reach: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    frequency: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    impactScore: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    effort: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    priorityScore: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    confidence: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n    quickFix: zod__WEBPACK_IMPORTED_MODULE_5__.boolean().optional(),\n    previewHighlights: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        x: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        y: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        w: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        h: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        note: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional()\n    })).optional()\n});\nconst AiResponseSchema = zod__WEBPACK_IMPORTED_MODULE_5__.object({\n    overall: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        grade: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n        score: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n        pourScores: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n            perceivable: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n            operable: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n            understandable: zod__WEBPACK_IMPORTED_MODULE_5__.number(),\n            robust: zod__WEBPACK_IMPORTED_MODULE_5__.number()\n        }),\n        confidence: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n        potentialScore: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional()\n    }),\n    issueCategories: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        name: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n        impact: zod__WEBPACK_IMPORTED_MODULE_5__[\"enum\"]([\n            \"critical\",\n            \"high\",\n            \"medium\",\n            \"low\"\n        ]).optional(),\n        count: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n        indices: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.number()).optional()\n    })).optional(),\n    issues: zod__WEBPACK_IMPORTED_MODULE_5__.array(AiIssueSchema),\n    recommendations: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional(),\n    quickWins: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        title: zod__WEBPACK_IMPORTED_MODULE_5__.string(),\n        impact: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        effort: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        eta: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional(),\n        steps: zod__WEBPACK_IMPORTED_MODULE_5__.array(zod__WEBPACK_IMPORTED_MODULE_5__.string()).optional()\n    })).optional(),\n    businessImpact: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n        usersAffectedPercent: zod__WEBPACK_IMPORTED_MODULE_5__.number().optional(),\n        legalRiskNote: zod__WEBPACK_IMPORTED_MODULE_5__.string().optional()\n    }).optional()\n});\nasync function POST(req) {\n    try {\n        // Validate content type\n        const contentType = req.headers.get(\"content-type\");\n        if (!contentType?.includes(\"application/json\")) {\n            return new Response(JSON.stringify({\n                success: false,\n                message: \"Content-Type must be application/json\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        // Parse and validate request body\n        let json;\n        try {\n            json = await req.json();\n        } catch  {\n            return new Response(JSON.stringify({\n                success: false,\n                message: \"Invalid JSON in request body\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        // Validate against schema\n        let parsed;\n        try {\n            parsed = RequestSchema.parse(json);\n        } catch (error) {\n            return new Response(JSON.stringify({\n                success: false,\n                message: \"Invalid request data\",\n                errors: error.errors\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        const { websiteUrl, imageFile, assessmentType, email, companyName } = parsed;\n        if (!process.env.OPENAI_API_KEY) {\n            return new Response(JSON.stringify({\n                success: false,\n                message: \"OpenAI API key not configured\"\n            }), {\n                status: 500,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        const openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            apiKey: process.env.OPENAI_API_KEY\n        });\n        let completion;\n        let analysisTarget = \"\";\n        let screenshotUrl = undefined;\n        try {\n            if (assessmentType === \"image\") {\n                analysisTarget = \"uploaded screenshot\";\n                completion = await openai.chat.completions.create({\n                    model: \"gpt-4o\",\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: (0,_lib_prompt__WEBPACK_IMPORTED_MODULE_2__.getSystemPrompt)(\"image\")\n                        },\n                        {\n                            role: \"user\",\n                            content: [\n                                {\n                                    type: \"text\",\n                                    text: `Return MACHINE_OUTPUT JSON followed by a line '--- HUMAN_SUMMARY ---' then the human summary. Analyze this screenshot.`\n                                },\n                                {\n                                    type: \"image_url\",\n                                    image_url: {\n                                        url: imageFile\n                                    }\n                                }\n                            ]\n                        }\n                    ],\n                    max_tokens: 3000,\n                    temperature: 0.2\n                });\n            } else {\n                analysisTarget = websiteUrl;\n                try {\n                    screenshotUrl = await (0,_lib_prompt__WEBPACK_IMPORTED_MODULE_2__.captureWebsiteScreenshot)(websiteUrl);\n                } catch (screenshotError) {\n                    console.warn(\"Screenshot capture failed:\", screenshotError);\n                }\n                // Extract comprehensive data from the website\n                let enrichedData = null;\n                try {\n                    enrichedData = await (0,_lib_crawler__WEBPACK_IMPORTED_MODULE_4__.crawlPage)(websiteUrl);\n                    console.log(`Extracted ${enrichedData.images.length} images, ${enrichedData.forms.forms.length} forms, ${enrichedData.headings.length} headings`);\n                } catch (crawlError) {\n                    console.warn(\"Enhanced crawling failed, falling back to basic analysis:\", crawlError);\n                }\n                // Create detailed analysis prompt with structured data\n                const analysisPrompt = enrichedData ? `Return MACHINE_OUTPUT JSON followed by a line '--- HUMAN_SUMMARY ---' then the human summary.\n\nCOMPREHENSIVE ACCESSIBILITY ANALYSIS for: ${websiteUrl}\n\nSTRUCTURED DATA PROVIDED:\n=========================\n\nPAGE METADATA:\n- Title: ${enrichedData.pageMetadata.title}\n- Language: ${enrichedData.pageMetadata.lang || \"not specified\"}\n- Viewport: ${enrichedData.pageMetadata.viewport || \"not specified\"}\n\nIMAGES ANALYSIS (${enrichedData.images.length} total):\n${enrichedData.images.map((img, i)=>`${i + 1}. ${img.src} - Alt: ${img.alt || \"MISSING\"} - Selector: ${img.selector} - Decorative: ${img.isDecorative}`).join(\"\\n\")}\n\nFORMS ANALYSIS:\n- Total Forms: ${enrichedData.forms.forms.length}\n- Unlabeled Inputs: ${enrichedData.forms.unlabeledInputs.length}\n- Missing Fieldsets: ${enrichedData.forms.missingFieldsets.length}\n- Missing Required Indicators: ${enrichedData.forms.missingRequired.length}\n\nHEADINGS STRUCTURE (${enrichedData.headings.length} total):\n${enrichedData.headings.map((h, i)=>`${i + 1}. H${h.level}: \"${h.text}\" - Selector: ${h.selector} - Empty: ${h.isEmpty}`).join(\"\\n\")}\n\nLINKS ANALYSIS (${enrichedData.links.length} total):\n${enrichedData.links.map((link, i)=>`${i + 1}. \"${link.text}\" -> ${link.href} - Generic: ${link.hasGenericText} - Empty: ${link.isEmptyLink}`).join(\"\\n\")}\n\nCOLOR CONTRAST ANALYSIS (${enrichedData.colors.length} combinations):\n${enrichedData.colors.map((color, i)=>`${i + 1}. ${color.foreground} on ${color.background} - Contrast: ${color.contrast} - AA: ${color.meetsAA} - Context: ${color.context}`).join(\"\\n\")}\n\nINTERACTIVE ELEMENTS (${enrichedData.interactiveElements.length} total):\n${enrichedData.interactiveElements.map((el, i)=>`${i + 1}. ${el.tagName} - Touch Target: ${el.touchTargetSize.width}x${el.touchTargetSize.height} - Meets Size: ${el.meetsTouchTargetSize} - Focusable: ${el.isFocusable}`).join(\"\\n\")}\n\nLANDMARKS (${enrichedData.landmarks.length} total):\n${enrichedData.landmarks.map((landmark, i)=>`${i + 1}. ${landmark.landmarkType} - Has Label: ${landmark.hasLabel} - Selector: ${landmark.selector}`).join(\"\\n\")}\n\nDOCUMENT STRUCTURE:\n- Has H1: ${enrichedData.documentStructure.hasH1}\n- H1 Count: ${enrichedData.documentStructure.h1Count}\n- Skip Links: ${enrichedData.documentStructure.skipLinkCount}\n- Landmark Count: ${enrichedData.documentStructure.landmarkCount}\n\nFIND MINIMUM 15-20 SPECIFIC ISSUES with exact evidence from this data.` : `Return MACHINE_OUTPUT JSON followed by a line '--- HUMAN_SUMMARY ---' then the human summary. Analyze: ${websiteUrl}`;\n                completion = await openai.chat.completions.create({\n                    model: \"gpt-4o\",\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: (0,_lib_prompt__WEBPACK_IMPORTED_MODULE_2__.getSystemPrompt)(\"url\")\n                        },\n                        {\n                            role: \"user\",\n                            content: analysisPrompt\n                        }\n                    ],\n                    max_tokens: 5000,\n                    temperature: 0.2\n                });\n            }\n        } catch (aiError) {\n            console.error(\"OpenAI API error:\", aiError);\n            const errorMessage = aiError?.error?.message || aiError?.message || \"Failed to analyze content\";\n            return new Response(JSON.stringify({\n                success: false,\n                message: `AI analysis failed: ${errorMessage}`\n            }), {\n                status: 500,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        const raw = completion.choices[0].message.content || \"\";\n        // Try optimized JSON first (dual-output)\n        let optimizedParsed = null;\n        let humanSummary = undefined;\n        const jsonBlock = extractFirstJsonObject(raw);\n        if (jsonBlock) {\n            try {\n                const obj = JSON.parse(jsonBlock);\n                optimizedParsed = AiOptimizedSchema.parse(obj);\n                const delim = \"--- HUMAN_SUMMARY ---\";\n                const idx = raw.indexOf(delim);\n                if (idx >= 0) humanSummary = raw.slice(idx + delim.length).trim();\n            } catch (_) {\n                optimizedParsed = null;\n            }\n        }\n        // Defaults\n        let overallScore = 70;\n        let gradeRating = \"B-\";\n        let pourScores = {\n            perceivable: 70,\n            operable: 70,\n            understandable: 70,\n            robust: 70\n        };\n        let quickWins = [];\n        let issues = [];\n        let potentialScore = undefined;\n        let recommendations = [];\n        let businessImpact = undefined;\n        if (optimizedParsed) {\n            overallScore = Math.max(0, Math.min(100, Math.round(optimizedParsed.overall.score_0_to_100)));\n            gradeRating = optimizedParsed.overall.grade;\n            pourScores = optimizedParsed.overall.pour_scores;\n            issues = optimizedParsed.top_findings.map((f, idx)=>({\n                    type: f.title,\n                    description: f.business_impact || \"See evidence and recommended fixes\",\n                    impact: f.severity_1_to_5 >= 5 || f.priority_score >= 20 ? \"critical\" : f.severity_1_to_5 >= 4 ? \"high\" : f.severity_1_to_5 >= 3 ? \"medium\" : \"low\",\n                    wcagLevel: f.wcag_refs && f.wcag_refs.length ? `WCAG ${f.wcag_refs.join(\", \")}` : \"WCAG 2.2 AA\",\n                    element: f.evidence?.selectors?.[0],\n                    recommendation: (f.recommended_fix || []).join(\"; \") || f.developer_notes || \"Follow WCAG 2.2 standards to remediate.\",\n                    id: idx,\n                    category: f.pour,\n                    title: f.title,\n                    userImpact: f.business_impact,\n                    wcagRefs: f.wcag_refs,\n                    selectors: f.evidence?.selectors,\n                    evidence: {\n                        snippets: f.evidence?.snippets\n                    },\n                    remediationSteps: f.recommended_fix,\n                    severity: f.severity_1_to_5,\n                    reach: f.reach_1_to_5,\n                    frequency: f.frequency_1_to_5,\n                    impactScore: f.impact_score,\n                    effort: f.effort_1_to_5,\n                    priorityScore: f.priority_score,\n                    confidence: f.confidence_0_to_1\n                }));\n            recommendations = optimizedParsed.cta?.next_steps || [];\n            quickWins = (optimizedParsed.quick_wins || []).map((q)=>({\n                    title: q.id,\n                    impact: q.why_now || \"High impact / low effort\",\n                    effort: \"Varies\",\n                    eta: q.eta || \"1-3 days\"\n                }));\n            if (optimizedParsed.summary_stats.estimated_users_impacted_percent !== undefined) {\n                businessImpact = {\n                    usersAffectedPercent: optimizedParsed.summary_stats.estimated_users_impacted_percent,\n                    legalRiskNote: optimizedParsed.disclaimers?.[0]\n                };\n            }\n        } else {\n            // Legacy JSON prompt path\n            let aiJsonParsed = null;\n            try {\n                aiJsonParsed = AiResponseSchema.parse(JSON.parse(raw.replace(/^```(?:json)?/i, \"\").replace(/```\\s*$/i, \"\").trim()));\n            } catch  {\n                aiJsonParsed = null;\n            }\n            if (aiJsonParsed) {\n                overallScore = Math.max(0, Math.min(100, Math.round(aiJsonParsed.overall.score)));\n                gradeRating = aiJsonParsed.overall.grade;\n                pourScores = aiJsonParsed.overall.pourScores;\n                potentialScore = aiJsonParsed.overall.potentialScore;\n                issues = aiJsonParsed.issues.map((i, idx)=>({\n                        type: i.title || i.category || \"Accessibility Issue\",\n                        description: i.description,\n                        impact: i.impact || \"medium\",\n                        wcagLevel: i.wcagLevel || \"WCAG 2.2 AA\",\n                        element: i.selectors?.[0] || i.category || undefined,\n                        recommendation: i.remediationSteps?.join(\"; \") || \"Follow WCAG 2.2 standards to remediate.\",\n                        id: i.id ?? idx,\n                        category: i.category,\n                        title: i.title,\n                        userImpact: i.userImpact,\n                        wcagRefs: i.wcagRefs,\n                        instances: i.instances,\n                        selectors: i.selectors,\n                        evidence: i.evidence,\n                        codeExample: i.codeExample,\n                        remediationSteps: i.remediationSteps,\n                        timeEstimate: i.timeEstimate,\n                        severity: i.severity,\n                        reach: i.reach,\n                        frequency: i.frequency,\n                        impactScore: i.impactScore,\n                        effort: i.effort,\n                        priorityScore: i.priorityScore,\n                        confidence: i.confidence,\n                        quickFix: i.quickFix,\n                        previewHighlights: i.previewHighlights\n                    }));\n                recommendations = aiJsonParsed.recommendations || [];\n                quickWins = aiJsonParsed.quickWins || [];\n                if (aiJsonParsed.businessImpact) businessImpact = aiJsonParsed.businessImpact;\n            } else {\n                // Fallback to regex path from previous implementation\n                const aiResponse = raw;\n                const scoreMatches = [\n                    aiResponse.match(/overall.*?score.*?(\\d+)/i),\n                    aiResponse.match(/total.*?score.*?(\\d+)/i),\n                    aiResponse.match(/accessibility.*?score.*?(\\d+)/i),\n                    aiResponse.match(/score.*?(\\d+).*?(?:out of|\\/)\\s*100/i)\n                ];\n                for (const match of scoreMatches){\n                    if (match) {\n                        overallScore = Math.min(100, Math.max(0, parseInt(match[1])));\n                        break;\n                    }\n                }\n                const gradeMatch = aiResponse.match(/grade.*?([A-F][+-]?)/i);\n                if (gradeMatch) gradeRating = gradeMatch[1];\n                const pourMatches = {\n                    perceivable: aiResponse.match(/perceivable.*?(\\d+)/i),\n                    operable: aiResponse.match(/operable.*?(\\d+)/i),\n                    understandable: aiResponse.match(/understandable.*?(\\d+)/i),\n                    robust: aiResponse.match(/robust.*?(\\d+)/i)\n                };\n                Object.entries(pourMatches).forEach(([key, m])=>{\n                    if (m) {\n                        pourScores[key] = Math.min(100, Math.max(0, parseInt(m[1])));\n                    }\n                });\n                const fallbackIssues = [\n                    {\n                        type: \"General Accessibility Review\",\n                        description: \"The website may benefit from a comprehensive accessibility review\",\n                        impact: \"medium\",\n                        wcagLevel: \"WCAG 2.2 AA\",\n                        element: \"Website elements\",\n                        recommendation: \"Conduct thorough accessibility testing including automated tools and manual review\"\n                    }\n                ];\n                issues = fallbackIssues;\n                recommendations = [\n                    \"Prioritize critical and high-impact issues for immediate remediation\",\n                    \"Implement systematic accessibility testing in your development workflow\",\n                    \"Consider automated testing tools alongside manual accessibility audits\"\n                ];\n                quickWins = [\n                    {\n                        title: \"Color Contrast Fixes\",\n                        impact: \"High\",\n                        effort: \"Low\",\n                        eta: \"1-2 days\"\n                    },\n                    {\n                        title: \"Focus Indicators\",\n                        impact: \"Critical\",\n                        effort: \"Low\",\n                        eta: \"1 day\"\n                    },\n                    {\n                        title: \"Alt Text Addition\",\n                        impact: \"High\",\n                        effort: \"Medium\",\n                        eta: \"2-3 days\"\n                    }\n                ];\n            }\n        }\n        // Build categories (prefer POUR mapping)\n        const categories = (()=>{\n            const map = new Map();\n            issues.forEach((iss, idx)=>{\n                const key = iss.category || iss.type;\n                const entry = map.get(key) || {\n                    name: key,\n                    impact: iss.impact,\n                    indices: []\n                };\n                entry.indices.push(idx);\n                const order = {\n                    critical: 3,\n                    high: 2,\n                    medium: 1,\n                    low: 0\n                };\n                if (order[iss.impact] > order[entry.impact]) entry.impact = iss.impact;\n                map.set(key, entry);\n            });\n            return Array.from(map.values()).map((v)=>({\n                    name: v.name,\n                    impact: v.impact,\n                    count: v.indices.length,\n                    indices: v.indices\n                }));\n        })();\n        // Counts and score\n        const totalIssues = issues.length;\n        const criticalIssues = issues.filter((i)=>i.impact === \"critical\").length;\n        const highImpactIssues = issues.filter((i)=>i.impact === \"high\").length;\n        const mediumImpactIssues = issues.filter((i)=>i.impact === \"medium\").length;\n        const lowImpactIssues = issues.filter((i)=>i.impact === \"low\").length;\n        const adjustedScore = Math.max(0, Math.min(100, overallScore - (criticalIssues * 20 + highImpactIssues * 10 + mediumImpactIssues * 5 + lowImpactIssues * 2)));\n        const potential = potentialScore ?? Math.max(adjustedScore, Math.min(100, adjustedScore + 20));\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_3__.getSupabaseServer)();\n        const { data: insert, error } = await supabase.from(\"assessments\").insert({\n            website_url: analysisTarget,\n            email: email || null,\n            company_name: companyName || null,\n            assessment_results: {\n                issues,\n                assessmentType,\n                pourScores,\n                quickWins,\n                gradeRating,\n                businessImpact,\n                issueCategories: categories,\n                humanSummary\n            },\n            overall_score: adjustedScore,\n            total_issues: totalIssues,\n            critical_issues: criticalIssues,\n            high_impact_issues: highImpactIssues,\n            medium_impact_issues: mediumImpactIssues,\n            low_impact_issues: lowImpactIssues,\n            screenshot_url: screenshotUrl\n        }).select(\"id, created_at\").single();\n        if (error) throw error;\n        const defaultRecs = [\n            \"Prioritize critical and high-impact issues for immediate remediation\",\n            \"Implement systematic accessibility testing in your development workflow\",\n            \"Consider automated testing tools alongside manual accessibility audits\",\n            \"Train development team on WCAG 2.2 AA compliance requirements\",\n            \"Establish accessibility quality assurance checkpoints\",\n            \"Plan for ongoing accessibility monitoring and maintenance\"\n        ];\n        const assessmentResult = {\n            id: insert.id,\n            websiteUrl: analysisTarget,\n            overallScore: adjustedScore,\n            totalIssues,\n            criticalIssues,\n            highImpactIssues,\n            mediumImpactIssues,\n            lowImpactIssues,\n            issues,\n            recommendations: recommendations.length ? recommendations : defaultRecs,\n            estimatedImpact: `${Math.round((100 - adjustedScore) / 100 * 20)}% of users may encounter accessibility barriers`,\n            createdAt: insert.created_at,\n            aiDetailedResponse: humanSummary,\n            gradeRating,\n            pourScores,\n            quickWins,\n            screenshotUrl,\n            potentialScore: potential,\n            issueCategories: categories,\n            businessImpact\n        };\n        const response = {\n            success: true,\n            data: assessmentResult,\n            message: \"Comprehensive accessibility assessment completed\"\n        };\n        return new Response(JSON.stringify(response), {\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    } catch (err) {\n        console.error(\"Assessment error:\", err);\n        const response = {\n            success: false,\n            message: \"Failed to complete accessibility assessment\"\n        };\n        return new Response(JSON.stringify(response), {\n            status: 500,\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQWlCLENBQUMsRUFBRTlELEtBQUtHLEtBQUssQ0FBQyxDQUFDLE1BQU13QyxhQUFZLElBQUssTUFBTSxJQUFJLCtDQUErQyxDQUFDO1lBQ2pIb0IsV0FBV2hCLE9BQU9pQixVQUFVO1lBQzVCQyxvQkFBb0IxRTtZQUNwQlE7WUFDQXhIO1lBQ0FRO1lBQ0FrQztZQUNBekMsZ0JBQWdCb0s7WUFDaEJuSyxpQkFBaUI2STtZQUNqQnJJO1FBQ0Y7UUFFQSxNQUFNaUwsV0FBMEM7WUFBRXJLLFNBQVM7WUFBTWlKLE1BQU1lO1lBQWtCL0osU0FBUztRQUFtRDtRQUNySixPQUFPLElBQUlKLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQ3NLLFdBQVc7WUFBRTNLLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQUU7SUFDbEcsRUFBRSxPQUFPNEssS0FBSztRQUNacEksUUFBUTVCLEtBQUssQ0FBQyxxQkFBcUJnSztRQUNuQyxNQUFNRCxXQUF3QjtZQUFFckssU0FBUztZQUFPQyxTQUFTO1FBQThDO1FBQ3ZHLE9BQU8sSUFBSUosU0FBU0MsS0FBS0MsU0FBUyxDQUFDc0ssV0FBVztZQUFFbkssUUFBUTtZQUFLUixTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUFFO0lBQy9HO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY2Nlc3Npc2Nhbi8uL3NyYy9hcHAvYXBpL2Fzc2Vzcy9yb3V0ZS50cz9jZGFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgQXNzZXNzbWVudFJlcXVlc3RTY2hlbWEsIHR5cGUgQXBpUmVzcG9uc2UsIHR5cGUgQXNzZXNzbWVudFJlc3VsdCwgdHlwZSBBY2Nlc3NpYmlsaXR5SXNzdWUgfSBmcm9tICdAL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBjYXB0dXJlV2Vic2l0ZVNjcmVlbnNob3QsIGdldFN5c3RlbVByb21wdCB9IGZyb20gJ0AvbGliL3Byb21wdCc7XG5pbXBvcnQgeyBnZXRTdXBhYmFzZVNlcnZlciB9IGZyb20gJ0AvbGliL3N1cGFiYXNlLXNlcnZlcic7XG5pbXBvcnQgeyBjcmF3bFBhZ2UgfSBmcm9tICdAL2xpYi9jcmF3bGVyJztcbmltcG9ydCB7IEVucmljaGVkQW5hbHlzaXNEYXRhIH0gZnJvbSAnQC9saWIvYW5hbHlzaXMtdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9ICdub2RlanMnO1xuXG5jb25zdCBSZXF1ZXN0U2NoZW1hID0gQXNzZXNzbWVudFJlcXVlc3RTY2hlbWE7XG5cbi8vIEhlbHBlciB0byBleHRyYWN0IGZpcnN0IGJhbGFuY2VkIEpTT04gYmxvY2sgYmVmb3JlIEhVTUFOX1NVTU1BUllcbmNvbnN0IGV4dHJhY3RGaXJzdEpzb25PYmplY3QgPSAoczogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGNvbnN0IHN1bW1hcnlJZHggPSBzLmluZGV4T2YoJy0tLSBIVU1BTl9TVU1NQVJZIC0tLScpO1xuICBjb25zdCB0ZXh0ID0gc3VtbWFyeUlkeCA+PSAwID8gcy5zbGljZSgwLCBzdW1tYXJ5SWR4KSA6IHM7XG4gIGNvbnN0IHN0YXJ0ID0gdGV4dC5pbmRleE9mKCd7Jyk7XG4gIGlmIChzdGFydCA8IDApIHJldHVybiBudWxsO1xuICBsZXQgZGVwdGggPSAwO1xuICBsZXQgaW5TdHJpbmcgPSBmYWxzZTtcbiAgbGV0IGVzY2FwZSA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2ggPSB0ZXh0W2ldO1xuICAgIGlmIChpblN0cmluZykge1xuICAgICAgaWYgKGVzY2FwZSkgeyBlc2NhcGUgPSBmYWxzZTsgY29udGludWU7IH1cbiAgICAgIGlmIChjaCA9PT0gJ1xcXFwnKSB7IGVzY2FwZSA9IHRydWU7IGNvbnRpbnVlOyB9XG4gICAgICBpZiAoY2ggPT09ICdcIicpIGluU3RyaW5nID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoID09PSAnXCInKSB7IGluU3RyaW5nID0gdHJ1ZTsgY29udGludWU7IH1cbiAgICBpZiAoY2ggPT09ICd7JykgZGVwdGgrKztcbiAgICBlbHNlIGlmIChjaCA9PT0gJ30nKSB7XG4gICAgICBkZXB0aC0tO1xuICAgICAgaWYgKGRlcHRoID09PSAwKSByZXR1cm4gdGV4dC5zbGljZShzdGFydCwgaSArIDEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIFpvZCBzY2hlbWEgZm9yIHRoZSBvcHRpbWl6ZWQgTUFDSElORV9PVVRQVVRcbmNvbnN0IEFpT3B0aW1pemVkU2NoZW1hID0gei5vYmplY3Qoe1xuICBhdWRpdF9pZDogei5zdHJpbmcoKSxcbiAgdGFyZ2V0X3N1bW1hcnk6IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmVudW0oWyd3ZWInLCdpb3MnLCdhbmRyb2lkJywnaHlicmlkJ10pLm9wdGlvbmFsKCksXG4gICAgcGFnZXNfb3JfY29tcG9uZW50czogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGFzc3VtcHRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIH0pLm9wdGlvbmFsKCksXG4gIG92ZXJhbGw6IHoub2JqZWN0KHtcbiAgICBncmFkZTogei5zdHJpbmcoKSxcbiAgICBzY29yZV8wX3RvXzEwMDogei5udW1iZXIoKSxcbiAgICBjb25maWRlbmNlXzBfdG9fMTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIHBvdXJfc2NvcmVzOiB6Lm9iamVjdCh7XG4gICAgICBwZXJjZWl2YWJsZTogei5udW1iZXIoKSwgb3BlcmFibGU6IHoubnVtYmVyKCksIHVuZGVyc3RhbmRhYmxlOiB6Lm51bWJlcigpLCByb2J1c3Q6IHoubnVtYmVyKClcbiAgICB9KVxuICB9KSxcbiAgdG9wX2ZpbmRpbmdzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKSxcbiAgICB3Y2FnX3JlZnM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBwb3VyOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgc2V2ZXJpdHlfMV90b181OiB6Lm51bWJlcigpLFxuICAgIHJlYWNoXzFfdG9fNTogei5udW1iZXIoKSxcbiAgICBmcmVxdWVuY3lfMV90b181OiB6Lm51bWJlcigpLFxuICAgIGltcGFjdF9zY29yZTogei5udW1iZXIoKSxcbiAgICBlZmZvcnRfMV90b181OiB6Lm51bWJlcigpLFxuICAgIHByaW9yaXR5X3Njb3JlOiB6Lm51bWJlcigpLFxuICAgIGNvbmZpZGVuY2VfMF90b18xOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgYWZmZWN0ZWRfdXNlcl9ncm91cHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBidXNpbmVzc19pbXBhY3Q6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBldmlkZW5jZTogei5vYmplY3Qoe1xuICAgICAgc2VsZWN0b3JzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgICBzbmlwcGV0czogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgICAgY29sb3JzOiB6LmFycmF5KHoub2JqZWN0KHsgZmc6IHouc3RyaW5nKCksIGJnOiB6LnN0cmluZygpLCBjb250cmFzdDogei5udW1iZXIoKS5vcHRpb25hbCgpIH0pKS5vcHRpb25hbCgpLFxuICAgICAgbG9jYXRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgICBpbnN0YW5jZV9jb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgc3BlY2lmaWNfZmlsZXM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICB9KS5vcHRpb25hbCgpLFxuICAgIHJlY29tbWVuZGVkX2ZpeDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGRldmVsb3Blcl9ub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHRlc3Rfc3RlcHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgfSkpLFxuICBzdW1tYXJ5X3N0YXRzOiB6Lm9iamVjdCh7XG4gICAgaXNzdWVfY291bnQ6IHoubnVtYmVyKCksXG4gICAgaGlnaF9wcmlvcml0eV9jb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGVzdF90aW1lX3RvX3JlbGllZjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGVzdGltYXRlZF91c2Vyc19pbXBhY3RlZF9wZXJjZW50OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICBxdWlja193aW5zOiB6LmFycmF5KHoub2JqZWN0KHsgaWQ6IHouc3RyaW5nKCksIHdoeV9ub3c6IHouc3RyaW5nKCkub3B0aW9uYWwoKSwgZXRhOiB6LnN0cmluZygpLm9wdGlvbmFsKCkgfSkpLm9wdGlvbmFsKCksXG4gIHZpc3VhbGl6YXRpb25fc3BlYzogei5hbnkoKS5vcHRpb25hbCgpLFxuICBjdGE6IHoub2JqZWN0KHtcbiAgICBuZXh0X3N0ZXBzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgbGVhZF9jYXB0dXJlX2NvcHk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBsZWFkX2NhcHR1cmVfZmllbGRzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIH0pLm9wdGlvbmFsKCksXG4gIGRpc2NsYWltZXJzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG59KTtcblxuLy8gRXhpc3RpbmcgbGlnaHR3ZWlnaHQgc2NoZW1hcyBmb3IgcHJldmlvdXMgSlNPTiBmb3JtYXRcbmNvbnN0IEFpSXNzdWVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlkOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGNhdGVnb3J5OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLFxuICB1c2VySW1wYWN0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGltcGFjdDogei5lbnVtKFsnY3JpdGljYWwnLCAnaGlnaCcsICdtZWRpdW0nLCAnbG93J10pLm9wdGlvbmFsKCkuZGVmYXVsdCgnbWVkaXVtJyksXG4gIHdjYWdSZWZzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIHdjYWdMZXZlbDogei5zdHJpbmcoKS5vcHRpb25hbCgpLmRlZmF1bHQoJ1dDQUcgMi4yIEFBJyksXG4gIGluc3RhbmNlczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBzZWxlY3RvcnM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgZXZpZGVuY2U6IHoub2JqZWN0KHsgc25pcHBldHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSB9KS5vcHRpb25hbCgpLFxuICBjb2RlRXhhbXBsZTogei5vYmplY3QoeyBiYWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSwgZ29vZDogei5zdHJpbmcoKS5vcHRpb25hbCgpIH0pLm9wdGlvbmFsKCksXG4gIHJlbWVkaWF0aW9uU3RlcHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgdGltZUVzdGltYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNldmVyaXR5OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHJlYWNoOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGZyZXF1ZW5jeTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBpbXBhY3RTY29yZTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBlZmZvcnQ6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgcHJpb3JpdHlTY29yZTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBjb25maWRlbmNlOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHF1aWNrRml4OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBwcmV2aWV3SGlnaGxpZ2h0czogei5hcnJheSh6Lm9iamVjdCh7IHg6IHoubnVtYmVyKCksIHk6IHoubnVtYmVyKCksIHc6IHoubnVtYmVyKCksIGg6IHoubnVtYmVyKCksIG5vdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSB9KSkub3B0aW9uYWwoKSxcbn0pO1xuXG5jb25zdCBBaVJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBvdmVyYWxsOiB6Lm9iamVjdCh7XG4gICAgZ3JhZGU6IHouc3RyaW5nKCksXG4gICAgc2NvcmU6IHoubnVtYmVyKCksXG4gICAgcG91clNjb3Jlczogei5vYmplY3QoeyBwZXJjZWl2YWJsZTogei5udW1iZXIoKSwgb3BlcmFibGU6IHoubnVtYmVyKCksIHVuZGVyc3RhbmRhYmxlOiB6Lm51bWJlcigpLCByb2J1c3Q6IHoubnVtYmVyKCkgfSksXG4gICAgY29uZmlkZW5jZTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIHBvdGVudGlhbFNjb3JlOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICBpc3N1ZUNhdGVnb3JpZXM6IHouYXJyYXkoei5vYmplY3QoeyBuYW1lOiB6LnN0cmluZygpLCBpbXBhY3Q6IHouZW51bShbJ2NyaXRpY2FsJywgJ2hpZ2gnLCAnbWVkaXVtJywgJ2xvdyddKS5vcHRpb25hbCgpLCBjb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLCBpbmRpY2VzOiB6LmFycmF5KHoubnVtYmVyKCkpLm9wdGlvbmFsKCkgfSkpLm9wdGlvbmFsKCksXG4gIGlzc3Vlczogei5hcnJheShBaUlzc3VlU2NoZW1hKSxcbiAgcmVjb21tZW5kYXRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIHF1aWNrV2luczogei5hcnJheSh6Lm9iamVjdCh7IHRpdGxlOiB6LnN0cmluZygpLCBpbXBhY3Q6IHouc3RyaW5nKCkub3B0aW9uYWwoKSwgZWZmb3J0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksIGV0YTogei5zdHJpbmcoKS5vcHRpb25hbCgpLCBzdGVwczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpIH0pKS5vcHRpb25hbCgpLFxuICBidXNpbmVzc0ltcGFjdDogei5vYmplY3QoeyB1c2Vyc0FmZmVjdGVkUGVyY2VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLCBsZWdhbFJpc2tOb3RlOiB6LnN0cmluZygpLm9wdGlvbmFsKCkgfSkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBWYWxpZGF0ZSBjb250ZW50IHR5cGVcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlcS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgaWYgKCFjb250ZW50VHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnQ29udGVudC1UeXBlIG11c3QgYmUgYXBwbGljYXRpb24vanNvbicgfSksIHsgc3RhdHVzOiA0MDAsIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgIH1cblxuICAgIC8vIFBhcnNlIGFuZCB2YWxpZGF0ZSByZXF1ZXN0IGJvZHlcbiAgICBsZXQganNvbjtcbiAgICB0cnkgeyBqc29uID0gYXdhaXQgcmVxLmpzb24oKTsgfSBjYXRjaCB7IHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ludmFsaWQgSlNPTiBpbiByZXF1ZXN0IGJvZHknIH0pLCB7IHN0YXR1czogNDAwLCBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9KTsgfVxuXG4gICAgLy8gVmFsaWRhdGUgYWdhaW5zdCBzY2hlbWFcbiAgICBsZXQgcGFyc2VkO1xuICAgIHRyeSB7IHBhcnNlZCA9IFJlcXVlc3RTY2hlbWEucGFyc2UoanNvbik7IH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ludmFsaWQgcmVxdWVzdCBkYXRhJywgZXJyb3JzOiBlcnJvci5lcnJvcnMgfSksIHsgc3RhdHVzOiA0MDAsIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgd2Vic2l0ZVVybCwgaW1hZ2VGaWxlLCBhc3Nlc3NtZW50VHlwZSwgZW1haWwsIGNvbXBhbnlOYW1lIH0gPSBwYXJzZWQ7XG5cbiAgICBpZiAoIXByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdPcGVuQUkgQVBJIGtleSBub3QgY29uZmlndXJlZCcgfSksIHsgc3RhdHVzOiA1MDAsIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICAgIH1cblxuICAgIGNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoeyBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIH0pO1xuXG4gICAgbGV0IGNvbXBsZXRpb247XG4gICAgbGV0IGFuYWx5c2lzVGFyZ2V0ID0gJyc7XG4gICAgbGV0IHNjcmVlbnNob3RVcmw6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoYXNzZXNzbWVudFR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgYW5hbHlzaXNUYXJnZXQgPSAndXBsb2FkZWQgc2NyZWVuc2hvdCc7XG4gICAgICAgIGNvbXBsZXRpb24gPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICAgIG1vZGVsOiAnZ3B0LTRvJyxcbiAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogZ2V0U3lzdGVtUHJvbXB0KCdpbWFnZScpIH0sXG4gICAgICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogWyB7IHR5cGU6ICd0ZXh0JywgdGV4dDogYFJldHVybiBNQUNISU5FX09VVFBVVCBKU09OIGZvbGxvd2VkIGJ5IGEgbGluZSAnLS0tIEhVTUFOX1NVTU1BUlkgLS0tJyB0aGVuIHRoZSBodW1hbiBzdW1tYXJ5LiBBbmFseXplIHRoaXMgc2NyZWVuc2hvdC5gIH0sIHsgdHlwZTogJ2ltYWdlX3VybCcsIGltYWdlX3VybDogeyB1cmw6IGltYWdlRmlsZSEgfSB9IF0gfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG1heF90b2tlbnM6IDMwMDAsXG4gICAgICAgICAgdGVtcGVyYXR1cmU6IDAuMixcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmFseXNpc1RhcmdldCA9IHdlYnNpdGVVcmwhO1xuICAgICAgICB0cnkgeyBzY3JlZW5zaG90VXJsID0gYXdhaXQgY2FwdHVyZVdlYnNpdGVTY3JlZW5zaG90KHdlYnNpdGVVcmwhKTsgfSBjYXRjaCAoc2NyZWVuc2hvdEVycm9yKSB7IGNvbnNvbGUud2FybignU2NyZWVuc2hvdCBjYXB0dXJlIGZhaWxlZDonLCBzY3JlZW5zaG90RXJyb3IpOyB9XG4gICAgICAgIFxuICAgICAgICAvLyBFeHRyYWN0IGNvbXByZWhlbnNpdmUgZGF0YSBmcm9tIHRoZSB3ZWJzaXRlXG4gICAgICAgIGxldCBlbnJpY2hlZERhdGE6IEVucmljaGVkQW5hbHlzaXNEYXRhIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZW5yaWNoZWREYXRhID0gYXdhaXQgY3Jhd2xQYWdlKHdlYnNpdGVVcmwhKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRXh0cmFjdGVkICR7ZW5yaWNoZWREYXRhLmltYWdlcy5sZW5ndGh9IGltYWdlcywgJHtlbnJpY2hlZERhdGEuZm9ybXMuZm9ybXMubGVuZ3RofSBmb3JtcywgJHtlbnJpY2hlZERhdGEuaGVhZGluZ3MubGVuZ3RofSBoZWFkaW5nc2ApO1xuICAgICAgICB9IGNhdGNoIChjcmF3bEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdFbmhhbmNlZCBjcmF3bGluZyBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byBiYXNpYyBhbmFseXNpczonLCBjcmF3bEVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBkZXRhaWxlZCBhbmFseXNpcyBwcm9tcHQgd2l0aCBzdHJ1Y3R1cmVkIGRhdGFcbiAgICAgICAgY29uc3QgYW5hbHlzaXNQcm9tcHQgPSBlbnJpY2hlZERhdGEgPyBcbiAgICAgICAgICBgUmV0dXJuIE1BQ0hJTkVfT1VUUFVUIEpTT04gZm9sbG93ZWQgYnkgYSBsaW5lICctLS0gSFVNQU5fU1VNTUFSWSAtLS0nIHRoZW4gdGhlIGh1bWFuIHN1bW1hcnkuXG5cbkNPTVBSRUhFTlNJVkUgQUNDRVNTSUJJTElUWSBBTkFMWVNJUyBmb3I6ICR7d2Vic2l0ZVVybH1cblxuU1RSVUNUVVJFRCBEQVRBIFBST1ZJREVEOlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5QQUdFIE1FVEFEQVRBOlxuLSBUaXRsZTogJHtlbnJpY2hlZERhdGEucGFnZU1ldGFkYXRhLnRpdGxlfVxuLSBMYW5ndWFnZTogJHtlbnJpY2hlZERhdGEucGFnZU1ldGFkYXRhLmxhbmcgfHwgJ25vdCBzcGVjaWZpZWQnfVxuLSBWaWV3cG9ydDogJHtlbnJpY2hlZERhdGEucGFnZU1ldGFkYXRhLnZpZXdwb3J0IHx8ICdub3Qgc3BlY2lmaWVkJ31cblxuSU1BR0VTIEFOQUxZU0lTICgke2VucmljaGVkRGF0YS5pbWFnZXMubGVuZ3RofSB0b3RhbCk6XG4ke2VucmljaGVkRGF0YS5pbWFnZXMubWFwKChpbWcsIGkpID0+IFxuICBgJHtpKzF9LiAke2ltZy5zcmN9IC0gQWx0OiAke2ltZy5hbHQgfHwgJ01JU1NJTkcnfSAtIFNlbGVjdG9yOiAke2ltZy5zZWxlY3Rvcn0gLSBEZWNvcmF0aXZlOiAke2ltZy5pc0RlY29yYXRpdmV9YFxuKS5qb2luKCdcXG4nKX1cblxuRk9STVMgQU5BTFlTSVM6XG4tIFRvdGFsIEZvcm1zOiAke2VucmljaGVkRGF0YS5mb3Jtcy5mb3Jtcy5sZW5ndGh9XG4tIFVubGFiZWxlZCBJbnB1dHM6ICR7ZW5yaWNoZWREYXRhLmZvcm1zLnVubGFiZWxlZElucHV0cy5sZW5ndGh9XG4tIE1pc3NpbmcgRmllbGRzZXRzOiAke2VucmljaGVkRGF0YS5mb3Jtcy5taXNzaW5nRmllbGRzZXRzLmxlbmd0aH1cbi0gTWlzc2luZyBSZXF1aXJlZCBJbmRpY2F0b3JzOiAke2VucmljaGVkRGF0YS5mb3Jtcy5taXNzaW5nUmVxdWlyZWQubGVuZ3RofVxuXG5IRUFESU5HUyBTVFJVQ1RVUkUgKCR7ZW5yaWNoZWREYXRhLmhlYWRpbmdzLmxlbmd0aH0gdG90YWwpOlxuJHtlbnJpY2hlZERhdGEuaGVhZGluZ3MubWFwKChoLCBpKSA9PiBcbiAgYCR7aSsxfS4gSCR7aC5sZXZlbH06IFwiJHtoLnRleHR9XCIgLSBTZWxlY3RvcjogJHtoLnNlbGVjdG9yfSAtIEVtcHR5OiAke2guaXNFbXB0eX1gXG4pLmpvaW4oJ1xcbicpfVxuXG5MSU5LUyBBTkFMWVNJUyAoJHtlbnJpY2hlZERhdGEubGlua3MubGVuZ3RofSB0b3RhbCk6XG4ke2VucmljaGVkRGF0YS5saW5rcy5tYXAoKGxpbmssIGkpID0+IFxuICBgJHtpKzF9LiBcIiR7bGluay50ZXh0fVwiIC0+ICR7bGluay5ocmVmfSAtIEdlbmVyaWM6ICR7bGluay5oYXNHZW5lcmljVGV4dH0gLSBFbXB0eTogJHtsaW5rLmlzRW1wdHlMaW5rfWBcbikuam9pbignXFxuJyl9XG5cbkNPTE9SIENPTlRSQVNUIEFOQUxZU0lTICgke2VucmljaGVkRGF0YS5jb2xvcnMubGVuZ3RofSBjb21iaW5hdGlvbnMpOlxuJHtlbnJpY2hlZERhdGEuY29sb3JzLm1hcCgoY29sb3IsIGkpID0+IFxuICBgJHtpKzF9LiAke2NvbG9yLmZvcmVncm91bmR9IG9uICR7Y29sb3IuYmFja2dyb3VuZH0gLSBDb250cmFzdDogJHtjb2xvci5jb250cmFzdH0gLSBBQTogJHtjb2xvci5tZWV0c0FBfSAtIENvbnRleHQ6ICR7Y29sb3IuY29udGV4dH1gXG4pLmpvaW4oJ1xcbicpfVxuXG5JTlRFUkFDVElWRSBFTEVNRU5UUyAoJHtlbnJpY2hlZERhdGEuaW50ZXJhY3RpdmVFbGVtZW50cy5sZW5ndGh9IHRvdGFsKTpcbiR7ZW5yaWNoZWREYXRhLmludGVyYWN0aXZlRWxlbWVudHMubWFwKChlbCwgaSkgPT4gXG4gIGAke2krMX0uICR7ZWwudGFnTmFtZX0gLSBUb3VjaCBUYXJnZXQ6ICR7ZWwudG91Y2hUYXJnZXRTaXplLndpZHRofXgke2VsLnRvdWNoVGFyZ2V0U2l6ZS5oZWlnaHR9IC0gTWVldHMgU2l6ZTogJHtlbC5tZWV0c1RvdWNoVGFyZ2V0U2l6ZX0gLSBGb2N1c2FibGU6ICR7ZWwuaXNGb2N1c2FibGV9YFxuKS5qb2luKCdcXG4nKX1cblxuTEFORE1BUktTICgke2VucmljaGVkRGF0YS5sYW5kbWFya3MubGVuZ3RofSB0b3RhbCk6XG4ke2VucmljaGVkRGF0YS5sYW5kbWFya3MubWFwKChsYW5kbWFyaywgaSkgPT4gXG4gIGAke2krMX0uICR7bGFuZG1hcmsubGFuZG1hcmtUeXBlfSAtIEhhcyBMYWJlbDogJHtsYW5kbWFyay5oYXNMYWJlbH0gLSBTZWxlY3RvcjogJHtsYW5kbWFyay5zZWxlY3Rvcn1gXG4pLmpvaW4oJ1xcbicpfVxuXG5ET0NVTUVOVCBTVFJVQ1RVUkU6XG4tIEhhcyBIMTogJHtlbnJpY2hlZERhdGEuZG9jdW1lbnRTdHJ1Y3R1cmUuaGFzSDF9XG4tIEgxIENvdW50OiAke2VucmljaGVkRGF0YS5kb2N1bWVudFN0cnVjdHVyZS5oMUNvdW50fVxuLSBTa2lwIExpbmtzOiAke2VucmljaGVkRGF0YS5kb2N1bWVudFN0cnVjdHVyZS5za2lwTGlua0NvdW50fVxuLSBMYW5kbWFyayBDb3VudDogJHtlbnJpY2hlZERhdGEuZG9jdW1lbnRTdHJ1Y3R1cmUubGFuZG1hcmtDb3VudH1cblxuRklORCBNSU5JTVVNIDE1LTIwIFNQRUNJRklDIElTU1VFUyB3aXRoIGV4YWN0IGV2aWRlbmNlIGZyb20gdGhpcyBkYXRhLmAgOlxuICAgICAgICAgIGBSZXR1cm4gTUFDSElORV9PVVRQVVQgSlNPTiBmb2xsb3dlZCBieSBhIGxpbmUgJy0tLSBIVU1BTl9TVU1NQVJZIC0tLScgdGhlbiB0aGUgaHVtYW4gc3VtbWFyeS4gQW5hbHl6ZTogJHt3ZWJzaXRlVXJsfWA7XG5cbiAgICAgICAgY29tcGxldGlvbiA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgICAgbW9kZWw6ICdncHQtNG8nLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBnZXRTeXN0ZW1Qcm9tcHQoJ3VybCcpIH0sXG4gICAgICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogYW5hbHlzaXNQcm9tcHQgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG1heF90b2tlbnM6IDUwMDAsIC8vIEluY3JlYXNlZCB0b2tlbiBsaW1pdCBmb3IgY29tcHJlaGVuc2l2ZSBhbmFseXNpc1xuICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjIsIC8vIExvd2VyIHRlbXBlcmF0dXJlIGZvciBtb3JlIGNvbnNpc3RlbnQgcmVzdWx0c1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChhaUVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09wZW5BSSBBUEkgZXJyb3I6JywgYWlFcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBhaUVycm9yPy5lcnJvcj8ubWVzc2FnZSB8fCBhaUVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gYW5hbHl6ZSBjb250ZW50JztcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogYEFJIGFuYWx5c2lzIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCB9KSwgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmF3ID0gY29tcGxldGlvbi5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCB8fCAnJztcblxuICAgIC8vIFRyeSBvcHRpbWl6ZWQgSlNPTiBmaXJzdCAoZHVhbC1vdXRwdXQpXG4gICAgbGV0IG9wdGltaXplZFBhcnNlZDogei5pbmZlcjx0eXBlb2YgQWlPcHRpbWl6ZWRTY2hlbWE+IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGh1bWFuU3VtbWFyeTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGpzb25CbG9jayA9IGV4dHJhY3RGaXJzdEpzb25PYmplY3QocmF3KTtcbiAgICBpZiAoanNvbkJsb2NrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGpzb25CbG9jayk7XG4gICAgICAgIG9wdGltaXplZFBhcnNlZCA9IEFpT3B0aW1pemVkU2NoZW1hLnBhcnNlKG9iaik7XG4gICAgICAgIGNvbnN0IGRlbGltID0gJy0tLSBIVU1BTl9TVU1NQVJZIC0tLSc7XG4gICAgICAgIGNvbnN0IGlkeCA9IHJhdy5pbmRleE9mKGRlbGltKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSBodW1hblN1bW1hcnkgPSByYXcuc2xpY2UoaWR4ICsgZGVsaW0ubGVuZ3RoKS50cmltKCk7XG4gICAgICB9IGNhdGNoIChfKSB7IG9wdGltaXplZFBhcnNlZCA9IG51bGw7IH1cbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0c1xuICAgIGxldCBvdmVyYWxsU2NvcmUgPSA3MDtcbiAgICBsZXQgZ3JhZGVSYXRpbmcgPSAnQi0nO1xuICAgIGxldCBwb3VyU2NvcmVzID0geyBwZXJjZWl2YWJsZTogNzAsIG9wZXJhYmxlOiA3MCwgdW5kZXJzdGFuZGFibGU6IDcwLCByb2J1c3Q6IDcwIH07XG4gICAgbGV0IHF1aWNrV2luczogYW55W10gPSBbXTtcbiAgICBsZXQgaXNzdWVzOiBBY2Nlc3NpYmlsaXR5SXNzdWVbXSA9IFtdO1xuICAgIGxldCBwb3RlbnRpYWxTY29yZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGxldCByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGJ1c2luZXNzSW1wYWN0OiB7IHVzZXJzQWZmZWN0ZWRQZXJjZW50PzogbnVtYmVyOyBsZWdhbFJpc2tOb3RlPzogc3RyaW5nIH0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAob3B0aW1pemVkUGFyc2VkKSB7XG4gICAgICBvdmVyYWxsU2NvcmUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIE1hdGgucm91bmQob3B0aW1pemVkUGFyc2VkLm92ZXJhbGwuc2NvcmVfMF90b18xMDApKSk7XG4gICAgICBncmFkZVJhdGluZyA9IG9wdGltaXplZFBhcnNlZC5vdmVyYWxsLmdyYWRlO1xuICAgICAgcG91clNjb3JlcyA9IG9wdGltaXplZFBhcnNlZC5vdmVyYWxsLnBvdXJfc2NvcmVzO1xuXG4gICAgICBpc3N1ZXMgPSBvcHRpbWl6ZWRQYXJzZWQudG9wX2ZpbmRpbmdzLm1hcCgoZiwgaWR4KSA9PiAoe1xuICAgICAgICB0eXBlOiBmLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogZi5idXNpbmVzc19pbXBhY3QgfHwgJ1NlZSBldmlkZW5jZSBhbmQgcmVjb21tZW5kZWQgZml4ZXMnLFxuICAgICAgICBpbXBhY3Q6IChmLnNldmVyaXR5XzFfdG9fNSA+PSA1IHx8IGYucHJpb3JpdHlfc2NvcmUgPj0gMjApID8gJ2NyaXRpY2FsJyA6IChmLnNldmVyaXR5XzFfdG9fNSA+PSA0ID8gJ2hpZ2gnIDogKGYuc2V2ZXJpdHlfMV90b181ID49IDMgPyAnbWVkaXVtJyA6ICdsb3cnKSksXG4gICAgICAgIHdjYWdMZXZlbDogKGYud2NhZ19yZWZzICYmIGYud2NhZ19yZWZzLmxlbmd0aCkgPyBgV0NBRyAke2Yud2NhZ19yZWZzLmpvaW4oJywgJyl9YCA6ICdXQ0FHIDIuMiBBQScsXG4gICAgICAgIGVsZW1lbnQ6IGYuZXZpZGVuY2U/LnNlbGVjdG9ycz8uWzBdLFxuICAgICAgICByZWNvbW1lbmRhdGlvbjogKGYucmVjb21tZW5kZWRfZml4IHx8IFtdKS5qb2luKCc7ICcpIHx8IGYuZGV2ZWxvcGVyX25vdGVzIHx8ICdGb2xsb3cgV0NBRyAyLjIgc3RhbmRhcmRzIHRvIHJlbWVkaWF0ZS4nLFxuICAgICAgICBpZDogaWR4LFxuICAgICAgICBjYXRlZ29yeTogZi5wb3VyLFxuICAgICAgICB0aXRsZTogZi50aXRsZSxcbiAgICAgICAgdXNlckltcGFjdDogZi5idXNpbmVzc19pbXBhY3QsXG4gICAgICAgIHdjYWdSZWZzOiBmLndjYWdfcmVmcyxcbiAgICAgICAgc2VsZWN0b3JzOiBmLmV2aWRlbmNlPy5zZWxlY3RvcnMsXG4gICAgICAgIGV2aWRlbmNlOiB7IHNuaXBwZXRzOiBmLmV2aWRlbmNlPy5zbmlwcGV0cyB9LFxuICAgICAgICByZW1lZGlhdGlvblN0ZXBzOiBmLnJlY29tbWVuZGVkX2ZpeCxcbiAgICAgICAgc2V2ZXJpdHk6IGYuc2V2ZXJpdHlfMV90b181LFxuICAgICAgICByZWFjaDogZi5yZWFjaF8xX3RvXzUsXG4gICAgICAgIGZyZXF1ZW5jeTogZi5mcmVxdWVuY3lfMV90b181LFxuICAgICAgICBpbXBhY3RTY29yZTogZi5pbXBhY3Rfc2NvcmUsXG4gICAgICAgIGVmZm9ydDogZi5lZmZvcnRfMV90b181LFxuICAgICAgICBwcmlvcml0eVNjb3JlOiBmLnByaW9yaXR5X3Njb3JlLFxuICAgICAgICBjb25maWRlbmNlOiBmLmNvbmZpZGVuY2VfMF90b18xLFxuICAgICAgfSkpO1xuXG4gICAgICByZWNvbW1lbmRhdGlvbnMgPSBvcHRpbWl6ZWRQYXJzZWQuY3RhPy5uZXh0X3N0ZXBzIHx8IFtdO1xuICAgICAgcXVpY2tXaW5zID0gKG9wdGltaXplZFBhcnNlZC5xdWlja193aW5zIHx8IFtdKS5tYXAocSA9PiAoeyB0aXRsZTogcS5pZCwgaW1wYWN0OiBxLndoeV9ub3cgfHwgJ0hpZ2ggaW1wYWN0IC8gbG93IGVmZm9ydCcsIGVmZm9ydDogJ1ZhcmllcycsIGV0YTogcS5ldGEgfHwgJzEtMyBkYXlzJyB9KSk7XG4gICAgICBpZiAob3B0aW1pemVkUGFyc2VkLnN1bW1hcnlfc3RhdHMuZXN0aW1hdGVkX3VzZXJzX2ltcGFjdGVkX3BlcmNlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBidXNpbmVzc0ltcGFjdCA9IHsgdXNlcnNBZmZlY3RlZFBlcmNlbnQ6IG9wdGltaXplZFBhcnNlZC5zdW1tYXJ5X3N0YXRzLmVzdGltYXRlZF91c2Vyc19pbXBhY3RlZF9wZXJjZW50LCBsZWdhbFJpc2tOb3RlOiBvcHRpbWl6ZWRQYXJzZWQuZGlzY2xhaW1lcnM/LlswXSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMZWdhY3kgSlNPTiBwcm9tcHQgcGF0aFxuICAgICAgbGV0IGFpSnNvblBhcnNlZDogei5pbmZlcjx0eXBlb2YgQWlSZXNwb25zZVNjaGVtYT4gfCBudWxsID0gbnVsbDtcbiAgICAgIHRyeSB7IGFpSnNvblBhcnNlZCA9IEFpUmVzcG9uc2VTY2hlbWEucGFyc2UoSlNPTi5wYXJzZShyYXcucmVwbGFjZSgvXmBgYCg/Ompzb24pPy9pLCAnJykucmVwbGFjZSgvYGBgXFxzKiQvaSwgJycpLnRyaW0oKSkpOyB9IGNhdGNoIHsgYWlKc29uUGFyc2VkID0gbnVsbDsgfVxuXG4gICAgICBpZiAoYWlKc29uUGFyc2VkKSB7XG4gICAgICAgIG92ZXJhbGxTY29yZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgTWF0aC5yb3VuZChhaUpzb25QYXJzZWQub3ZlcmFsbC5zY29yZSkpKTtcbiAgICAgICAgZ3JhZGVSYXRpbmcgPSBhaUpzb25QYXJzZWQub3ZlcmFsbC5ncmFkZTtcbiAgICAgICAgcG91clNjb3JlcyA9IGFpSnNvblBhcnNlZC5vdmVyYWxsLnBvdXJTY29yZXM7XG4gICAgICAgIHBvdGVudGlhbFNjb3JlID0gYWlKc29uUGFyc2VkLm92ZXJhbGwucG90ZW50aWFsU2NvcmU7XG4gICAgICAgIGlzc3VlcyA9IGFpSnNvblBhcnNlZC5pc3N1ZXMubWFwKChpLCBpZHgpID0+ICh7XG4gICAgICAgICAgdHlwZTogaS50aXRsZSB8fCBpLmNhdGVnb3J5IHx8ICdBY2Nlc3NpYmlsaXR5IElzc3VlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogaS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBpbXBhY3Q6IGkuaW1wYWN0IHx8ICdtZWRpdW0nLFxuICAgICAgICAgIHdjYWdMZXZlbDogaS53Y2FnTGV2ZWwgfHwgJ1dDQUcgMi4yIEFBJyxcbiAgICAgICAgICBlbGVtZW50OiBpLnNlbGVjdG9ycz8uWzBdIHx8IGkuY2F0ZWdvcnkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uOiAoaS5yZW1lZGlhdGlvblN0ZXBzPy5qb2luKCc7ICcpIHx8ICdGb2xsb3cgV0NBRyAyLjIgc3RhbmRhcmRzIHRvIHJlbWVkaWF0ZS4nKSxcbiAgICAgICAgICBpZDogaS5pZCA/PyBpZHgsXG4gICAgICAgICAgY2F0ZWdvcnk6IGkuY2F0ZWdvcnksXG4gICAgICAgICAgdGl0bGU6IGkudGl0bGUsXG4gICAgICAgICAgdXNlckltcGFjdDogaS51c2VySW1wYWN0LFxuICAgICAgICAgIHdjYWdSZWZzOiBpLndjYWdSZWZzLFxuICAgICAgICAgIGluc3RhbmNlczogaS5pbnN0YW5jZXMsXG4gICAgICAgICAgc2VsZWN0b3JzOiBpLnNlbGVjdG9ycyxcbiAgICAgICAgICBldmlkZW5jZTogaS5ldmlkZW5jZSxcbiAgICAgICAgICBjb2RlRXhhbXBsZTogaS5jb2RlRXhhbXBsZSxcbiAgICAgICAgICByZW1lZGlhdGlvblN0ZXBzOiBpLnJlbWVkaWF0aW9uU3RlcHMsXG4gICAgICAgICAgdGltZUVzdGltYXRlOiBpLnRpbWVFc3RpbWF0ZSxcbiAgICAgICAgICBzZXZlcml0eTogaS5zZXZlcml0eSxcbiAgICAgICAgICByZWFjaDogaS5yZWFjaCxcbiAgICAgICAgICBmcmVxdWVuY3k6IGkuZnJlcXVlbmN5LFxuICAgICAgICAgIGltcGFjdFNjb3JlOiBpLmltcGFjdFNjb3JlLFxuICAgICAgICAgIGVmZm9ydDogaS5lZmZvcnQsXG4gICAgICAgICAgcHJpb3JpdHlTY29yZTogaS5wcmlvcml0eVNjb3JlLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IGkuY29uZmlkZW5jZSxcbiAgICAgICAgICBxdWlja0ZpeDogaS5xdWlja0ZpeCxcbiAgICAgICAgICBwcmV2aWV3SGlnaGxpZ2h0czogaS5wcmV2aWV3SGlnaGxpZ2h0cyxcbiAgICAgICAgfSkpO1xuICAgICAgICByZWNvbW1lbmRhdGlvbnMgPSBhaUpzb25QYXJzZWQucmVjb21tZW5kYXRpb25zIHx8IFtdO1xuICAgICAgICBxdWlja1dpbnMgPSBhaUpzb25QYXJzZWQucXVpY2tXaW5zIHx8IFtdO1xuICAgICAgICBpZiAoYWlKc29uUGFyc2VkLmJ1c2luZXNzSW1wYWN0KSBidXNpbmVzc0ltcGFjdCA9IGFpSnNvblBhcnNlZC5idXNpbmVzc0ltcGFjdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIHJlZ2V4IHBhdGggZnJvbSBwcmV2aW91cyBpbXBsZW1lbnRhdGlvblxuICAgICAgICBjb25zdCBhaVJlc3BvbnNlID0gcmF3O1xuICAgICAgICBjb25zdCBzY29yZU1hdGNoZXMgPSBbXG4gICAgICAgICAgYWlSZXNwb25zZS5tYXRjaCgvb3ZlcmFsbC4qP3Njb3JlLio/KFxcZCspL2kpLFxuICAgICAgICAgIGFpUmVzcG9uc2UubWF0Y2goL3RvdGFsLio/c2NvcmUuKj8oXFxkKykvaSksXG4gICAgICAgICAgYWlSZXNwb25zZS5tYXRjaCgvYWNjZXNzaWJpbGl0eS4qP3Njb3JlLio/KFxcZCspL2kpLFxuICAgICAgICAgIGFpUmVzcG9uc2UubWF0Y2goL3Njb3JlLio/KFxcZCspLio/KD86b3V0IG9mfFxcLylcXHMqMTAwL2kpLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIHNjb3JlTWF0Y2hlcykgeyBpZiAobWF0Y2gpIHsgb3ZlcmFsbFNjb3JlID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwYXJzZUludChtYXRjaFsxXSkpKTsgYnJlYWs7IH0gfVxuICAgICAgICBjb25zdCBncmFkZU1hdGNoID0gYWlSZXNwb25zZS5tYXRjaCgvZ3JhZGUuKj8oW0EtRl1bKy1dPykvaSk7IGlmIChncmFkZU1hdGNoKSBncmFkZVJhdGluZyA9IGdyYWRlTWF0Y2hbMV07XG4gICAgICAgIGNvbnN0IHBvdXJNYXRjaGVzID0geyBwZXJjZWl2YWJsZTogYWlSZXNwb25zZS5tYXRjaCgvcGVyY2VpdmFibGUuKj8oXFxkKykvaSksIG9wZXJhYmxlOiBhaVJlc3BvbnNlLm1hdGNoKC9vcGVyYWJsZS4qPyhcXGQrKS9pKSwgdW5kZXJzdGFuZGFibGU6IGFpUmVzcG9uc2UubWF0Y2goL3VuZGVyc3RhbmRhYmxlLio/KFxcZCspL2kpLCByb2J1c3Q6IGFpUmVzcG9uc2UubWF0Y2goL3JvYnVzdC4qPyhcXGQrKS9pKSB9O1xuICAgICAgICBPYmplY3QuZW50cmllcyhwb3VyTWF0Y2hlcykuZm9yRWFjaCgoW2tleSwgbV0pID0+IHsgaWYgKG0pIHsgKHBvdXJTY29yZXMgYXMgYW55KVtrZXldID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwYXJzZUludChtWzFdKSkpOyB9IH0pO1xuICAgICAgICBjb25zdCBmYWxsYmFja0lzc3VlczogQWNjZXNzaWJpbGl0eUlzc3VlW10gPSBbIHsgdHlwZTogJ0dlbmVyYWwgQWNjZXNzaWJpbGl0eSBSZXZpZXcnLCBkZXNjcmlwdGlvbjogJ1RoZSB3ZWJzaXRlIG1heSBiZW5lZml0IGZyb20gYSBjb21wcmVoZW5zaXZlIGFjY2Vzc2liaWxpdHkgcmV2aWV3JywgaW1wYWN0OiAnbWVkaXVtJywgd2NhZ0xldmVsOiAnV0NBRyAyLjIgQUEnLCBlbGVtZW50OiAnV2Vic2l0ZSBlbGVtZW50cycsIHJlY29tbWVuZGF0aW9uOiAnQ29uZHVjdCB0aG9yb3VnaCBhY2Nlc3NpYmlsaXR5IHRlc3RpbmcgaW5jbHVkaW5nIGF1dG9tYXRlZCB0b29scyBhbmQgbWFudWFsIHJldmlldycgfSBdO1xuICAgICAgICBpc3N1ZXMgPSBmYWxsYmFja0lzc3VlcztcbiAgICAgICAgcmVjb21tZW5kYXRpb25zID0gWyAnUHJpb3JpdGl6ZSBjcml0aWNhbCBhbmQgaGlnaC1pbXBhY3QgaXNzdWVzIGZvciBpbW1lZGlhdGUgcmVtZWRpYXRpb24nLCAnSW1wbGVtZW50IHN5c3RlbWF0aWMgYWNjZXNzaWJpbGl0eSB0ZXN0aW5nIGluIHlvdXIgZGV2ZWxvcG1lbnQgd29ya2Zsb3cnLCAnQ29uc2lkZXIgYXV0b21hdGVkIHRlc3RpbmcgdG9vbHMgYWxvbmdzaWRlIG1hbnVhbCBhY2Nlc3NpYmlsaXR5IGF1ZGl0cycgXTtcbiAgICAgICAgcXVpY2tXaW5zID0gWyB7IHRpdGxlOiAnQ29sb3IgQ29udHJhc3QgRml4ZXMnLCBpbXBhY3Q6ICdIaWdoJywgZWZmb3J0OiAnTG93JywgZXRhOiAnMS0yIGRheXMnIH0sIHsgdGl0bGU6ICdGb2N1cyBJbmRpY2F0b3JzJywgaW1wYWN0OiAnQ3JpdGljYWwnLCBlZmZvcnQ6ICdMb3cnLCBldGE6ICcxIGRheScgfSwgeyB0aXRsZTogJ0FsdCBUZXh0IEFkZGl0aW9uJywgaW1wYWN0OiAnSGlnaCcsIGVmZm9ydDogJ01lZGl1bScsIGV0YTogJzItMyBkYXlzJyB9IF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgY2F0ZWdvcmllcyAocHJlZmVyIFBPVVIgbWFwcGluZylcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gKCgpID0+IHtcbiAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCB7IG5hbWU6IHN0cmluZzsgaW1wYWN0OiAnY3JpdGljYWwnfCdoaWdoJ3wnbWVkaXVtJ3wnbG93JzsgaW5kaWNlczogbnVtYmVyW10gfT4oKTtcbiAgICAgIGlzc3Vlcy5mb3JFYWNoKChpc3MsIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSAoaXNzIGFzIGFueSkuY2F0ZWdvcnkgfHwgaXNzLnR5cGU7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gbWFwLmdldChrZXkpIHx8IHsgbmFtZToga2V5LCBpbXBhY3Q6IGlzcy5pbXBhY3QsIGluZGljZXM6IFtdIGFzIG51bWJlcltdIH07XG4gICAgICAgIGVudHJ5LmluZGljZXMucHVzaChpZHgpO1xuICAgICAgICBjb25zdCBvcmRlcjogYW55ID0geyBjcml0aWNhbDogMywgaGlnaDogMiwgbWVkaXVtOiAxLCBsb3c6IDAgfTtcbiAgICAgICAgaWYgKG9yZGVyW2lzcy5pbXBhY3RdID4gb3JkZXJbZW50cnkuaW1wYWN0XSkgZW50cnkuaW1wYWN0ID0gaXNzLmltcGFjdDtcbiAgICAgICAgbWFwLnNldChrZXksIGVudHJ5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20obWFwLnZhbHVlcygpKS5tYXAodiA9PiAoeyBuYW1lOiB2Lm5hbWUsIGltcGFjdDogdi5pbXBhY3QsIGNvdW50OiB2LmluZGljZXMubGVuZ3RoLCBpbmRpY2VzOiB2LmluZGljZXMgfSkpO1xuICAgIH0pKCk7XG5cbiAgICAvLyBDb3VudHMgYW5kIHNjb3JlXG4gICAgY29uc3QgdG90YWxJc3N1ZXMgPSBpc3N1ZXMubGVuZ3RoO1xuICAgIGNvbnN0IGNyaXRpY2FsSXNzdWVzID0gaXNzdWVzLmZpbHRlcihpID0+IGkuaW1wYWN0ID09PSAnY3JpdGljYWwnKS5sZW5ndGg7XG4gICAgY29uc3QgaGlnaEltcGFjdElzc3VlcyA9IGlzc3Vlcy5maWx0ZXIoaSA9PiBpLmltcGFjdCA9PT0gJ2hpZ2gnKS5sZW5ndGg7XG4gICAgY29uc3QgbWVkaXVtSW1wYWN0SXNzdWVzID0gaXNzdWVzLmZpbHRlcihpID0+IGkuaW1wYWN0ID09PSAnbWVkaXVtJykubGVuZ3RoO1xuICAgIGNvbnN0IGxvd0ltcGFjdElzc3VlcyA9IGlzc3Vlcy5maWx0ZXIoaSA9PiBpLmltcGFjdCA9PT0gJ2xvdycpLmxlbmd0aDtcbiAgICBjb25zdCBhZGp1c3RlZFNjb3JlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBvdmVyYWxsU2NvcmUgLSAoY3JpdGljYWxJc3N1ZXMgKiAyMCArIGhpZ2hJbXBhY3RJc3N1ZXMgKiAxMCArIG1lZGl1bUltcGFjdElzc3VlcyAqIDUgKyBsb3dJbXBhY3RJc3N1ZXMgKiAyKSkpO1xuICAgIGNvbnN0IHBvdGVudGlhbCA9IHBvdGVudGlhbFNjb3JlID8/IE1hdGgubWF4KGFkanVzdGVkU2NvcmUsIE1hdGgubWluKDEwMCwgYWRqdXN0ZWRTY29yZSArIDIwKSk7XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlU2VydmVyKCk7XG4gICAgY29uc3QgeyBkYXRhOiBpbnNlcnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2Fzc2Vzc21lbnRzJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICB3ZWJzaXRlX3VybDogYW5hbHlzaXNUYXJnZXQsXG4gICAgICAgIGVtYWlsOiBlbWFpbCB8fCBudWxsLFxuICAgICAgICBjb21wYW55X25hbWU6IGNvbXBhbnlOYW1lIHx8IG51bGwsXG4gICAgICAgIGFzc2Vzc21lbnRfcmVzdWx0czoge1xuICAgICAgICAgIGlzc3VlcyxcbiAgICAgICAgICBhc3Nlc3NtZW50VHlwZSxcbiAgICAgICAgICBwb3VyU2NvcmVzLFxuICAgICAgICAgIHF1aWNrV2lucyxcbiAgICAgICAgICBncmFkZVJhdGluZyxcbiAgICAgICAgICBidXNpbmVzc0ltcGFjdCxcbiAgICAgICAgICBpc3N1ZUNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsXG4gICAgICAgICAgaHVtYW5TdW1tYXJ5LFxuICAgICAgICB9LFxuICAgICAgICBvdmVyYWxsX3Njb3JlOiBhZGp1c3RlZFNjb3JlLFxuICAgICAgICB0b3RhbF9pc3N1ZXM6IHRvdGFsSXNzdWVzLFxuICAgICAgICBjcml0aWNhbF9pc3N1ZXM6IGNyaXRpY2FsSXNzdWVzLFxuICAgICAgICBoaWdoX2ltcGFjdF9pc3N1ZXM6IGhpZ2hJbXBhY3RJc3N1ZXMsXG4gICAgICAgIG1lZGl1bV9pbXBhY3RfaXNzdWVzOiBtZWRpdW1JbXBhY3RJc3N1ZXMsXG4gICAgICAgIGxvd19pbXBhY3RfaXNzdWVzOiBsb3dJbXBhY3RJc3N1ZXMsXG4gICAgICAgIHNjcmVlbnNob3RfdXJsOiBzY3JlZW5zaG90VXJsLFxuICAgICAgfSlcbiAgICAgIC5zZWxlY3QoJ2lkLCBjcmVhdGVkX2F0JylcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICBjb25zdCBkZWZhdWx0UmVjcyA9IFtcbiAgICAgICdQcmlvcml0aXplIGNyaXRpY2FsIGFuZCBoaWdoLWltcGFjdCBpc3N1ZXMgZm9yIGltbWVkaWF0ZSByZW1lZGlhdGlvbicsXG4gICAgICAnSW1wbGVtZW50IHN5c3RlbWF0aWMgYWNjZXNzaWJpbGl0eSB0ZXN0aW5nIGluIHlvdXIgZGV2ZWxvcG1lbnQgd29ya2Zsb3cnLFxuICAgICAgJ0NvbnNpZGVyIGF1dG9tYXRlZCB0ZXN0aW5nIHRvb2xzIGFsb25nc2lkZSBtYW51YWwgYWNjZXNzaWJpbGl0eSBhdWRpdHMnLFxuICAgICAgJ1RyYWluIGRldmVsb3BtZW50IHRlYW0gb24gV0NBRyAyLjIgQUEgY29tcGxpYW5jZSByZXF1aXJlbWVudHMnLFxuICAgICAgJ0VzdGFibGlzaCBhY2Nlc3NpYmlsaXR5IHF1YWxpdHkgYXNzdXJhbmNlIGNoZWNrcG9pbnRzJyxcbiAgICAgICdQbGFuIGZvciBvbmdvaW5nIGFjY2Vzc2liaWxpdHkgbW9uaXRvcmluZyBhbmQgbWFpbnRlbmFuY2UnLFxuICAgIF07XG5cbiAgICBjb25zdCBhc3Nlc3NtZW50UmVzdWx0OiBBc3Nlc3NtZW50UmVzdWx0ID0ge1xuICAgICAgaWQ6IGluc2VydC5pZCxcbiAgICAgIHdlYnNpdGVVcmw6IGFuYWx5c2lzVGFyZ2V0LFxuICAgICAgb3ZlcmFsbFNjb3JlOiBhZGp1c3RlZFNjb3JlLFxuICAgICAgdG90YWxJc3N1ZXMsXG4gICAgICBjcml0aWNhbElzc3VlcyxcbiAgICAgIGhpZ2hJbXBhY3RJc3N1ZXMsXG4gICAgICBtZWRpdW1JbXBhY3RJc3N1ZXMsXG4gICAgICBsb3dJbXBhY3RJc3N1ZXMsXG4gICAgICBpc3N1ZXMsXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IHJlY29tbWVuZGF0aW9ucy5sZW5ndGggPyByZWNvbW1lbmRhdGlvbnMgOiBkZWZhdWx0UmVjcyxcbiAgICAgIGVzdGltYXRlZEltcGFjdDogYCR7TWF0aC5yb3VuZCgoMTAwIC0gYWRqdXN0ZWRTY29yZSkgLyAxMDAgKiAyMCl9JSBvZiB1c2VycyBtYXkgZW5jb3VudGVyIGFjY2Vzc2liaWxpdHkgYmFycmllcnNgLFxuICAgICAgY3JlYXRlZEF0OiBpbnNlcnQuY3JlYXRlZF9hdCxcbiAgICAgIGFpRGV0YWlsZWRSZXNwb25zZTogaHVtYW5TdW1tYXJ5LCAvLyBzdG9yZSBIVU1BTl9TVU1NQVJZIHJhdGhlciB0aGFuIHJhd1xuICAgICAgZ3JhZGVSYXRpbmcsXG4gICAgICBwb3VyU2NvcmVzLFxuICAgICAgcXVpY2tXaW5zLFxuICAgICAgc2NyZWVuc2hvdFVybCxcbiAgICAgIHBvdGVudGlhbFNjb3JlOiBwb3RlbnRpYWwsXG4gICAgICBpc3N1ZUNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsXG4gICAgICBidXNpbmVzc0ltcGFjdCxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzcG9uc2U6IEFwaVJlc3BvbnNlPEFzc2Vzc21lbnRSZXN1bHQ+ID0geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBhc3Nlc3NtZW50UmVzdWx0LCBtZXNzYWdlOiAnQ29tcHJlaGVuc2l2ZSBhY2Nlc3NpYmlsaXR5IGFzc2Vzc21lbnQgY29tcGxldGVkJyB9O1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCB7IGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBc3Nlc3NtZW50IGVycm9yOicsIGVycik7XG4gICAgY29uc3QgcmVzcG9uc2U6IEFwaVJlc3BvbnNlID0geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ZhaWxlZCB0byBjb21wbGV0ZSBhY2Nlc3NpYmlsaXR5IGFzc2Vzc21lbnQnIH07XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZSksIHsgc3RhdHVzOiA1MDAsIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xuICB9XG59XG5cblxuIl0sIm5hbWVzIjpbIk9wZW5BSSIsInoiLCJBc3Nlc3NtZW50UmVxdWVzdFNjaGVtYSIsImNhcHR1cmVXZWJzaXRlU2NyZWVuc2hvdCIsImdldFN5c3RlbVByb21wdCIsImdldFN1cGFiYXNlU2VydmVyIiwiY3Jhd2xQYWdlIiwicnVudGltZSIsIlJlcXVlc3RTY2hlbWEiLCJleHRyYWN0Rmlyc3RKc29uT2JqZWN0IiwicyIsInN1bW1hcnlJZHgiLCJpbmRleE9mIiwidGV4dCIsInNsaWNlIiwic3RhcnQiLCJkZXB0aCIsImluU3RyaW5nIiwiZXNjYXBlIiwiaSIsImxlbmd0aCIsImNoIiwiQWlPcHRpbWl6ZWRTY2hlbWEiLCJvYmplY3QiLCJhdWRpdF9pZCIsInN0cmluZyIsInRhcmdldF9zdW1tYXJ5IiwidHlwZSIsImVudW0iLCJvcHRpb25hbCIsInBhZ2VzX29yX2NvbXBvbmVudHMiLCJhcnJheSIsImFzc3VtcHRpb25zIiwib3ZlcmFsbCIsImdyYWRlIiwic2NvcmVfMF90b18xMDAiLCJudW1iZXIiLCJjb25maWRlbmNlXzBfdG9fMSIsInBvdXJfc2NvcmVzIiwicGVyY2VpdmFibGUiLCJvcGVyYWJsZSIsInVuZGVyc3RhbmRhYmxlIiwicm9idXN0IiwidG9wX2ZpbmRpbmdzIiwiaWQiLCJ0aXRsZSIsIndjYWdfcmVmcyIsInBvdXIiLCJzZXZlcml0eV8xX3RvXzUiLCJyZWFjaF8xX3RvXzUiLCJmcmVxdWVuY3lfMV90b181IiwiaW1wYWN0X3Njb3JlIiwiZWZmb3J0XzFfdG9fNSIsInByaW9yaXR5X3Njb3JlIiwiYWZmZWN0ZWRfdXNlcl9ncm91cHMiLCJidXNpbmVzc19pbXBhY3QiLCJldmlkZW5jZSIsInNlbGVjdG9ycyIsInNuaXBwZXRzIiwiY29sb3JzIiwiZmciLCJiZyIsImNvbnRyYXN0IiwibG9jYXRpb25zIiwiaW5zdGFuY2VfY291bnQiLCJzcGVjaWZpY19maWxlcyIsInJlY29tbWVuZGVkX2ZpeCIsImRldmVsb3Blcl9ub3RlcyIsInRlc3Rfc3RlcHMiLCJzdW1tYXJ5X3N0YXRzIiwiaXNzdWVfY291bnQiLCJoaWdoX3ByaW9yaXR5X2NvdW50IiwiZXN0X3RpbWVfdG9fcmVsaWVmIiwiZXN0aW1hdGVkX3VzZXJzX2ltcGFjdGVkX3BlcmNlbnQiLCJxdWlja193aW5zIiwid2h5X25vdyIsImV0YSIsInZpc3VhbGl6YXRpb25fc3BlYyIsImFueSIsImN0YSIsIm5leHRfc3RlcHMiLCJsZWFkX2NhcHR1cmVfY29weSIsImxlYWRfY2FwdHVyZV9maWVsZHMiLCJkaXNjbGFpbWVycyIsIkFpSXNzdWVTY2hlbWEiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwidXNlckltcGFjdCIsImltcGFjdCIsImRlZmF1bHQiLCJ3Y2FnUmVmcyIsIndjYWdMZXZlbCIsImluc3RhbmNlcyIsImNvZGVFeGFtcGxlIiwiYmFkIiwiZ29vZCIsInJlbWVkaWF0aW9uU3RlcHMiLCJ0aW1lRXN0aW1hdGUiLCJzZXZlcml0eSIsInJlYWNoIiwiZnJlcXVlbmN5IiwiaW1wYWN0U2NvcmUiLCJlZmZvcnQiLCJwcmlvcml0eVNjb3JlIiwiY29uZmlkZW5jZSIsInF1aWNrRml4IiwiYm9vbGVhbiIsInByZXZpZXdIaWdobGlnaHRzIiwieCIsInkiLCJ3IiwiaCIsIm5vdGUiLCJBaVJlc3BvbnNlU2NoZW1hIiwic2NvcmUiLCJwb3VyU2NvcmVzIiwicG90ZW50aWFsU2NvcmUiLCJpc3N1ZUNhdGVnb3JpZXMiLCJuYW1lIiwiY291bnQiLCJpbmRpY2VzIiwiaXNzdWVzIiwicmVjb21tZW5kYXRpb25zIiwicXVpY2tXaW5zIiwic3RlcHMiLCJidXNpbmVzc0ltcGFjdCIsInVzZXJzQWZmZWN0ZWRQZXJjZW50IiwibGVnYWxSaXNrTm90ZSIsIlBPU1QiLCJyZXEiLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJnZXQiLCJpbmNsdWRlcyIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwic3RhdHVzIiwianNvbiIsInBhcnNlZCIsInBhcnNlIiwiZXJyb3IiLCJlcnJvcnMiLCJ3ZWJzaXRlVXJsIiwiaW1hZ2VGaWxlIiwiYXNzZXNzbWVudFR5cGUiLCJlbWFpbCIsImNvbXBhbnlOYW1lIiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwib3BlbmFpIiwiYXBpS2V5IiwiY29tcGxldGlvbiIsImFuYWx5c2lzVGFyZ2V0Iiwic2NyZWVuc2hvdFVybCIsInVuZGVmaW5lZCIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsImltYWdlX3VybCIsInVybCIsIm1heF90b2tlbnMiLCJ0ZW1wZXJhdHVyZSIsInNjcmVlbnNob3RFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZW5yaWNoZWREYXRhIiwibG9nIiwiaW1hZ2VzIiwiZm9ybXMiLCJoZWFkaW5ncyIsImNyYXdsRXJyb3IiLCJhbmFseXNpc1Byb21wdCIsInBhZ2VNZXRhZGF0YSIsImxhbmciLCJ2aWV3cG9ydCIsIm1hcCIsImltZyIsInNyYyIsImFsdCIsInNlbGVjdG9yIiwiaXNEZWNvcmF0aXZlIiwiam9pbiIsInVubGFiZWxlZElucHV0cyIsIm1pc3NpbmdGaWVsZHNldHMiLCJtaXNzaW5nUmVxdWlyZWQiLCJsZXZlbCIsImlzRW1wdHkiLCJsaW5rcyIsImxpbmsiLCJocmVmIiwiaGFzR2VuZXJpY1RleHQiLCJpc0VtcHR5TGluayIsImNvbG9yIiwiZm9yZWdyb3VuZCIsImJhY2tncm91bmQiLCJtZWV0c0FBIiwiY29udGV4dCIsImludGVyYWN0aXZlRWxlbWVudHMiLCJlbCIsInRhZ05hbWUiLCJ0b3VjaFRhcmdldFNpemUiLCJ3aWR0aCIsImhlaWdodCIsIm1lZXRzVG91Y2hUYXJnZXRTaXplIiwiaXNGb2N1c2FibGUiLCJsYW5kbWFya3MiLCJsYW5kbWFyayIsImxhbmRtYXJrVHlwZSIsImhhc0xhYmVsIiwiZG9jdW1lbnRTdHJ1Y3R1cmUiLCJoYXNIMSIsImgxQ291bnQiLCJza2lwTGlua0NvdW50IiwibGFuZG1hcmtDb3VudCIsImFpRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJyYXciLCJjaG9pY2VzIiwib3B0aW1pemVkUGFyc2VkIiwiaHVtYW5TdW1tYXJ5IiwianNvbkJsb2NrIiwib2JqIiwiZGVsaW0iLCJpZHgiLCJ0cmltIiwiXyIsIm92ZXJhbGxTY29yZSIsImdyYWRlUmF0aW5nIiwiTWF0aCIsIm1heCIsIm1pbiIsInJvdW5kIiwiZiIsImVsZW1lbnQiLCJyZWNvbW1lbmRhdGlvbiIsInEiLCJhaUpzb25QYXJzZWQiLCJyZXBsYWNlIiwiYWlSZXNwb25zZSIsInNjb3JlTWF0Y2hlcyIsIm1hdGNoIiwicGFyc2VJbnQiLCJncmFkZU1hdGNoIiwicG91ck1hdGNoZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsIm0iLCJmYWxsYmFja0lzc3VlcyIsImNhdGVnb3JpZXMiLCJNYXAiLCJpc3MiLCJlbnRyeSIsInB1c2giLCJvcmRlciIsImNyaXRpY2FsIiwiaGlnaCIsIm1lZGl1bSIsImxvdyIsInNldCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInYiLCJ0b3RhbElzc3VlcyIsImNyaXRpY2FsSXNzdWVzIiwiZmlsdGVyIiwiaGlnaEltcGFjdElzc3VlcyIsIm1lZGl1bUltcGFjdElzc3VlcyIsImxvd0ltcGFjdElzc3VlcyIsImFkanVzdGVkU2NvcmUiLCJwb3RlbnRpYWwiLCJzdXBhYmFzZSIsImRhdGEiLCJpbnNlcnQiLCJ3ZWJzaXRlX3VybCIsImNvbXBhbnlfbmFtZSIsImFzc2Vzc21lbnRfcmVzdWx0cyIsIm92ZXJhbGxfc2NvcmUiLCJ0b3RhbF9pc3N1ZXMiLCJjcml0aWNhbF9pc3N1ZXMiLCJoaWdoX2ltcGFjdF9pc3N1ZXMiLCJtZWRpdW1faW1wYWN0X2lzc3VlcyIsImxvd19pbXBhY3RfaXNzdWVzIiwic2NyZWVuc2hvdF91cmwiLCJzZWxlY3QiLCJzaW5nbGUiLCJkZWZhdWx0UmVjcyIsImFzc2Vzc21lbnRSZXN1bHQiLCJlc3RpbWF0ZWRJbXBhY3QiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0IiwiYWlEZXRhaWxlZFJlc3BvbnNlIiwicmVzcG9uc2UiLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/assess/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/crawler.ts":
/*!****************************!*\
  !*** ./src/lib/crawler.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessibilityCrawler: () => (/* binding */ AccessibilityCrawler),\n/* harmony export */   crawlPage: () => (/* binding */ crawlPage)\n/* harmony export */ });\n/* harmony import */ var puppeteer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! puppeteer */ \"puppeteer\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([puppeteer__WEBPACK_IMPORTED_MODULE_0__]);\npuppeteer__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nclass AccessibilityCrawler {\n    async initialize() {\n        this.browser = await puppeteer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].launch({\n            headless: true,\n            args: [\n                \"--no-sandbox\",\n                \"--disable-setuid-sandbox\",\n                \"--disable-dev-shm-usage\",\n                \"--disable-accelerated-2d-canvas\",\n                \"--no-first-run\",\n                \"--no-zygote\",\n                \"--single-process\",\n                \"--disable-gpu\"\n            ]\n        });\n    }\n    async cleanup() {\n        if (this.browser) {\n            await this.browser.close();\n            this.browser = null;\n        }\n    }\n    async extractPageData(url) {\n        if (!this.browser) {\n            await this.initialize();\n        }\n        const page = await this.browser.newPage();\n        const startTime = Date.now();\n        try {\n            // Set viewport and user agent\n            await page.setViewport({\n                width: 1920,\n                height: 1080\n            });\n            await page.setUserAgent(\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\");\n            // Navigate to page\n            const response = await page.goto(url, {\n                waitUntil: \"networkidle0\",\n                timeout: 30000\n            });\n            if (!response || !response.ok()) {\n                throw new Error(`Failed to load page: ${response?.status()}`);\n            }\n            const pageLoadTime = Date.now() - startTime;\n            // Extract all data in parallel\n            const [htmlSource, pageMetadata, images, forms, headings, links, colors, interactiveElements, landmarks, accessibilityTree, additionalData] = await Promise.all([\n                this.extractHtmlSource(page),\n                this.extractPageMetadata(page),\n                this.extractImages(page),\n                this.extractForms(page),\n                this.extractHeadings(page),\n                this.extractLinks(page),\n                this.extractColors(page),\n                this.extractInteractiveElements(page),\n                this.extractLandmarks(page),\n                this.extractAccessibilityTree(page),\n                this.extractAdditionalData(page)\n            ]);\n            const extractionTime = Date.now() - startTime;\n            return {\n                url,\n                htmlSource,\n                pageMetadata,\n                images,\n                forms,\n                headings,\n                links,\n                colors,\n                interactiveElements,\n                landmarks,\n                accessibilityTree,\n                ...additionalData,\n                extractionMetadata: {\n                    timestamp: new Date().toISOString(),\n                    extractionTime,\n                    pageLoadTime,\n                    errors: [],\n                    warnings: []\n                }\n            };\n        } catch (error) {\n            throw new Error(`Crawling failed: ${error}`);\n        } finally{\n            await page.close();\n        }\n    }\n    async extractHtmlSource(page) {\n        return await page.content();\n    }\n    async extractPageMetadata(page) {\n        return await page.evaluate(()=>{\n            return {\n                title: document.title,\n                lang: document.documentElement.lang || undefined,\n                viewport: document.querySelector('meta[name=\"viewport\"]')?.getAttribute(\"content\") || undefined,\n                description: document.querySelector('meta[name=\"description\"]')?.getAttribute(\"content\") || undefined,\n                charset: document.characterSet || undefined\n            };\n        });\n    }\n    async extractImages(page) {\n        return await page.evaluate(()=>{\n            const images = [];\n            // Regular img elements\n            const imgElements = document.querySelectorAll(\"img\");\n            imgElements.forEach((img, index)=>{\n                const rect = img.getBoundingClientRect();\n                const alt = img.getAttribute(\"alt\");\n                images.push({\n                    src: img.src,\n                    alt: alt || undefined,\n                    selector: `img:nth-of-type(${index + 1})`,\n                    dimensions: {\n                        width: rect.width,\n                        height: rect.height\n                    },\n                    isDecorative: alt === \"\",\n                    hasEmptyAlt: alt === \"\",\n                    isBackgroundImage: false,\n                    context: img.closest(\"figure\")?.textContent?.trim() || img.parentElement?.textContent?.trim()?.substring(0, 100)\n                });\n            });\n            // Background images\n            const elementsWithBgImages = document.querySelectorAll(\"*\");\n            elementsWithBgImages.forEach((el, index)=>{\n                const styles = window.getComputedStyle(el);\n                const bgImage = styles.backgroundImage;\n                if (bgImage && bgImage !== \"none\" && bgImage.includes(\"url(\")) {\n                    const urlMatch = bgImage.match(/url\\([\"']?([^\"')]+)[\"']?\\)/);\n                    if (urlMatch) {\n                        const rect = el.getBoundingClientRect();\n                        images.push({\n                            src: urlMatch[1],\n                            alt: el.getAttribute(\"aria-label\") || undefined,\n                            selector: `${el.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                            dimensions: {\n                                width: rect.width,\n                                height: rect.height\n                            },\n                            isDecorative: !el.getAttribute(\"aria-label\"),\n                            hasEmptyAlt: false,\n                            isBackgroundImage: true,\n                            context: el.textContent?.trim()?.substring(0, 100)\n                        });\n                    }\n                }\n            });\n            return images;\n        });\n    }\n    async extractForms(page) {\n        return await page.evaluate(()=>{\n            const forms = Array.from(document.querySelectorAll(\"form\"));\n            const allInputs = Array.from(document.querySelectorAll(\"input, select, textarea\"));\n            const unlabeledInputs = [];\n            const missingFieldsets = [];\n            const missingRequired = [];\n            allInputs.forEach((input, index)=>{\n                const rect = input.getBoundingClientRect();\n                const elementInfo = {\n                    selector: `${input.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                    tagName: input.tagName,\n                    text: input.textContent?.trim(),\n                    attributes: Object.fromEntries(Array.from(input.attributes).map((attr)=>[\n                            attr.name,\n                            attr.value\n                        ])),\n                    boundingBox: {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    }\n                };\n                // Check for labels\n                const id = input.getAttribute(\"id\");\n                const hasLabel = id ? document.querySelector(`label[for=\"${id}\"]`) : null;\n                const hasAriaLabel = input.getAttribute(\"aria-label\") || input.getAttribute(\"aria-labelledby\");\n                if (!hasLabel && !hasAriaLabel) {\n                    unlabeledInputs.push(elementInfo);\n                }\n                // Check for required fields\n                if (input.hasAttribute(\"required\") && !input.getAttribute(\"aria-required\")) {\n                    missingRequired.push(elementInfo);\n                }\n            });\n            // Check for radio/checkbox groups without fieldsets\n            const radioGroups = new Map();\n            document.querySelectorAll('input[type=\"radio\"]').forEach((radio)=>{\n                const name = radio.getAttribute(\"name\");\n                if (name) {\n                    if (!radioGroups.has(name)) radioGroups.set(name, []);\n                    radioGroups.get(name).push(radio);\n                }\n            });\n            radioGroups.forEach((radios, name)=>{\n                if (radios.length > 1) {\n                    const hasFieldset = radios.some((radio)=>radio.closest(\"fieldset\"));\n                    if (!hasFieldset) {\n                        radios.forEach((radio, index)=>{\n                            const rect = radio.getBoundingClientRect();\n                            missingFieldsets.push({\n                                selector: `input[name=\"${name}\"]:nth-of-type(${index + 1})`,\n                                tagName: radio.tagName,\n                                text: radio.textContent?.trim(),\n                                attributes: Object.fromEntries(Array.from(radio.attributes).map((attr)=>[\n                                        attr.name,\n                                        attr.value\n                                    ])),\n                                boundingBox: {\n                                    x: rect.x,\n                                    y: rect.y,\n                                    width: rect.width,\n                                    height: rect.height\n                                }\n                            });\n                        });\n                    }\n                }\n            });\n            return {\n                unlabeledInputs,\n                missingFieldsets,\n                noErrorAssociation: [],\n                missingRequired,\n                poorInstructions: [],\n                inaccessibleValidation: [],\n                forms: forms.map((form, index)=>({\n                        selector: `form:nth-of-type(${index + 1})`,\n                        inputs: Array.from(form.querySelectorAll(\"input, select, textarea\")).map((input, inputIndex)=>{\n                            const rect = input.getBoundingClientRect();\n                            return {\n                                selector: `${input.tagName.toLowerCase()}:nth-of-type(${inputIndex + 1})`,\n                                tagName: input.tagName,\n                                text: input.textContent?.trim(),\n                                attributes: Object.fromEntries(Array.from(input.attributes).map((attr)=>[\n                                        attr.name,\n                                        attr.value\n                                    ])),\n                                boundingBox: {\n                                    x: rect.x,\n                                    y: rect.y,\n                                    width: rect.width,\n                                    height: rect.height\n                                }\n                            };\n                        }),\n                        hasSubmit: !!form.querySelector('input[type=\"submit\"], button[type=\"submit\"], button:not([type])'),\n                        hasValidation: !!form.querySelector(\"[required], [pattern], [min], [max]\")\n                    }))\n            };\n        });\n    }\n    async extractHeadings(page) {\n        return await page.evaluate(()=>{\n            const headings = Array.from(document.querySelectorAll(\"h1, h2, h3, h4, h5, h6\"));\n            return headings.map((heading, index)=>{\n                const rect = heading.getBoundingClientRect();\n                const level = parseInt(heading.tagName.charAt(1));\n                const text = heading.textContent?.trim() || \"\";\n                return {\n                    selector: `${heading.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                    tagName: heading.tagName,\n                    text,\n                    attributes: Object.fromEntries(Array.from(heading.attributes).map((attr)=>[\n                            attr.name,\n                            attr.value\n                        ])),\n                    boundingBox: {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    },\n                    level,\n                    isEmpty: text.length === 0,\n                    hasProperNesting: true // TODO: Calculate proper nesting\n                };\n            });\n        });\n    }\n    async extractLinks(page) {\n        return await page.evaluate(()=>{\n            const links = Array.from(document.querySelectorAll(\"a[href]\"));\n            const genericTexts = [\n                \"click here\",\n                \"read more\",\n                \"more\",\n                \"link\",\n                \"here\",\n                \"more info\"\n            ];\n            return links.map((link, index)=>{\n                const rect = link.getBoundingClientRect();\n                const text = link.textContent?.trim() || \"\";\n                const href = link.getAttribute(\"href\") || \"\";\n                return {\n                    selector: `a:nth-of-type(${index + 1})`,\n                    tagName: link.tagName,\n                    text,\n                    attributes: Object.fromEntries(Array.from(link.attributes).map((attr)=>[\n                            attr.name,\n                            attr.value\n                        ])),\n                    boundingBox: {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    },\n                    href,\n                    hasGenericText: genericTexts.some((generic)=>text.toLowerCase().includes(generic)),\n                    isEmptyLink: text.length === 0,\n                    hasTitle: !!link.getAttribute(\"title\"),\n                    opensInNewWindow: link.getAttribute(\"target\") === \"_blank\"\n                };\n            });\n        });\n    }\n    async extractColors(page) {\n        return await page.evaluate(()=>{\n            const textElements = document.querySelectorAll(\"p, span, div, h1, h2, h3, h4, h5, h6, a, button, label\");\n            const colors = [];\n            textElements.forEach((element, index)=>{\n                const text = element.textContent?.trim();\n                if (!text || text.length === 0) return;\n                const styles = window.getComputedStyle(element);\n                const color = styles.color;\n                const backgroundColor = styles.backgroundColor;\n                const fontSize = parseFloat(styles.fontSize);\n                // Simple contrast calculation (approximation)\n                const getColorValues = (colorStr)=>{\n                    const canvas = document.createElement(\"canvas\");\n                    const ctx = canvas.getContext(\"2d\");\n                    ctx.fillStyle = colorStr;\n                    return ctx.fillStyle;\n                };\n                const fg = getColorValues(color);\n                const bg = getColorValues(backgroundColor);\n                // Simplified contrast calculation - in real implementation, use proper algorithm\n                const contrast = 4.5; // Placeholder - implement proper contrast calculation\n                colors.push({\n                    foreground: fg,\n                    background: bg,\n                    selector: `${element.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                    contrast,\n                    meetsAA: contrast >= 4.5,\n                    meetsAAA: contrast >= 7,\n                    fontSize,\n                    isLargeText: fontSize >= 18 || fontSize >= 14 && styles.fontWeight === \"bold\",\n                    context: text.substring(0, 50)\n                });\n            });\n            return colors;\n        });\n    }\n    async extractInteractiveElements(page) {\n        return await page.evaluate(()=>{\n            const interactiveSelectors = 'button, a[href], input, select, textarea, [tabindex], [onclick], [role=\"button\"], [role=\"link\"]';\n            const elements = Array.from(document.querySelectorAll(interactiveSelectors));\n            return elements.map((element, index)=>{\n                const rect = element.getBoundingClientRect();\n                const tabIndex = element.getAttribute(\"tabindex\");\n                return {\n                    selector: `${element.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                    tagName: element.tagName,\n                    text: element.textContent?.trim(),\n                    attributes: Object.fromEntries(Array.from(element.attributes).map((attr)=>[\n                            attr.name,\n                            attr.value\n                        ])),\n                    boundingBox: {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    },\n                    isFocusable: tabIndex !== \"-1\",\n                    hasVisibleFocus: true,\n                    tabIndex: tabIndex ? parseInt(tabIndex) : undefined,\n                    role: element.getAttribute(\"role\") || undefined,\n                    ariaLabel: element.getAttribute(\"aria-label\") || undefined,\n                    ariaDescribedBy: element.getAttribute(\"aria-describedby\") || undefined,\n                    touchTargetSize: {\n                        width: rect.width,\n                        height: rect.height\n                    },\n                    meetsTouchTargetSize: rect.width >= 44 && rect.height >= 44\n                };\n            });\n        });\n    }\n    async extractLandmarks(page) {\n        return await page.evaluate(()=>{\n            const landmarkSelectors = 'header, nav, main, aside, footer, [role=\"banner\"], [role=\"navigation\"], [role=\"main\"], [role=\"complementary\"], [role=\"contentinfo\"]';\n            const elements = Array.from(document.querySelectorAll(landmarkSelectors));\n            return elements.map((element, index)=>{\n                const rect = element.getBoundingClientRect();\n                const role = element.getAttribute(\"role\") || element.tagName.toLowerCase();\n                let landmarkType = \"region\";\n                if (role === \"banner\" || element.tagName === \"HEADER\") landmarkType = \"banner\";\n                else if (role === \"navigation\" || element.tagName === \"NAV\") landmarkType = \"navigation\";\n                else if (role === \"main\" || element.tagName === \"MAIN\") landmarkType = \"main\";\n                else if (role === \"complementary\" || element.tagName === \"ASIDE\") landmarkType = \"complementary\";\n                else if (role === \"contentinfo\" || element.tagName === \"FOOTER\") landmarkType = \"contentinfo\";\n                return {\n                    selector: `${element.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                    tagName: element.tagName,\n                    text: element.textContent?.trim(),\n                    attributes: Object.fromEntries(Array.from(element.attributes).map((attr)=>[\n                            attr.name,\n                            attr.value\n                        ])),\n                    boundingBox: {\n                        x: rect.x,\n                        y: rect.y,\n                        width: rect.width,\n                        height: rect.height\n                    },\n                    landmarkType,\n                    hasLabel: !!(element.getAttribute(\"aria-label\") || element.getAttribute(\"aria-labelledby\")),\n                    isUnique: true // TODO: Check for uniqueness\n                };\n            });\n        });\n    }\n    async extractAccessibilityTree(page) {\n        // This is a simplified version - full implementation would use Chrome DevTools Protocol\n        return await page.evaluate(()=>{\n            const getAccessibilityInfo = (element)=>{\n                return {\n                    name: element.getAttribute(\"aria-label\") || element.textContent?.trim() || undefined,\n                    role: element.getAttribute(\"role\") || undefined,\n                    selector: element.tagName.toLowerCase(),\n                    properties: {\n                        tagName: element.tagName,\n                        id: element.id || undefined,\n                        className: element.className || undefined\n                    }\n                };\n            };\n            const importantElements = document.querySelectorAll(\"h1, h2, h3, h4, h5, h6, button, a, input, select, textarea, [role]\");\n            return Array.from(importantElements).map(getAccessibilityInfo);\n        });\n    }\n    async extractAdditionalData(page) {\n        return await page.evaluate(()=>{\n            const skipLinks = document.querySelectorAll('a[href^=\"#\"]');\n            const h1Elements = document.querySelectorAll(\"h1\");\n            const headings = document.querySelectorAll(\"h1, h2, h3, h4, h5, h6\");\n            const landmarks = document.querySelectorAll('header, nav, main, aside, footer, [role=\"banner\"], [role=\"navigation\"], [role=\"main\"], [role=\"complementary\"], [role=\"contentinfo\"]');\n            return {\n                hasSkipLinks: skipLinks.length > 0,\n                languageAttributes: Array.from(document.querySelectorAll(\"[lang]\")).map((el, index)=>({\n                        selector: `${el.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                        lang: el.getAttribute(\"lang\") || \"\"\n                    })),\n                mediaElements: Array.from(document.querySelectorAll(\"video, audio\")).map((el, index)=>({\n                        selector: `${el.tagName.toLowerCase()}:nth-of-type(${index + 1})`,\n                        type: el.tagName.toLowerCase(),\n                        hasControls: el.hasAttribute(\"controls\"),\n                        hasTranscript: false,\n                        hasCaptions: false,\n                        autoPlays: el.hasAttribute(\"autoplay\")\n                    })),\n                documentStructure: {\n                    hasH1: h1Elements.length > 0,\n                    h1Count: h1Elements.length,\n                    headingHierarchy: Array.from(headings).map((h)=>parseInt(h.tagName.charAt(1))),\n                    landmarkCount: landmarks.length,\n                    skipLinkCount: skipLinks.length\n                }\n            };\n        });\n    }\n    constructor(){\n        this.browser = null;\n    }\n}\n// Utility function for single-use crawling\nasync function crawlPage(url) {\n    const crawler = new AccessibilityCrawler();\n    try {\n        return await crawler.extractPageData(url);\n    } finally{\n        await crawler.cleanup();\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFlaEIsVUFBVWhFLE1BQU07Z0JBQ2pDO1lBQ0Y7UUFDRjtJQUNGOzthQWhlUXBJLFVBQTBCOztBQWllcEM7QUFFQSwyQ0FBMkM7QUFDcEMsZUFBZXFOLFVBQVU5TSxHQUFXO0lBQ3pDLE1BQU0rTSxVQUFVLElBQUl4TjtJQUNwQixJQUFJO1FBQ0YsT0FBTyxNQUFNd04sUUFBUWhOLGVBQWUsQ0FBQ0M7SUFDdkMsU0FBVTtRQUNSLE1BQU0rTSxRQUFRbE4sT0FBTztJQUN2QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNjZXNzaXNjYW4vLi9zcmMvbGliL2NyYXdsZXIudHM/ZDJlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHVwcGV0ZWVyLCB7IEJyb3dzZXIsIFBhZ2UgfSBmcm9tICdwdXBwZXRlZXInO1xuaW1wb3J0IHsgXG4gIEVucmljaGVkQW5hbHlzaXNEYXRhLCBcbiAgUGFnZU1ldGFkYXRhLCBcbiAgSW1hZ2VBbmFseXNpcywgXG4gIEZvcm1BbmFseXNpcywgXG4gIEhlYWRpbmdJbmZvLCBcbiAgTGlua0luZm8sIFxuICBDb2xvckFuYWx5c2lzLCBcbiAgSW50ZXJhY3RpdmVFbGVtZW50SW5mbyxcbiAgTGFuZG1hcmtJbmZvLFxuICBBY2Nlc3NpYmlsaXR5Tm9kZSxcbiAgRWxlbWVudEluZm9cbn0gZnJvbSAnLi9hbmFseXNpcy10eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBBY2Nlc3NpYmlsaXR5Q3Jhd2xlciB7XG4gIHByaXZhdGUgYnJvd3NlcjogQnJvd3NlciB8IG51bGwgPSBudWxsO1xuXG4gIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5icm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCh7XG4gICAgICBoZWFkbGVzczogdHJ1ZSxcbiAgICAgIGFyZ3M6IFtcbiAgICAgICAgJy0tbm8tc2FuZGJveCcsXG4gICAgICAgICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLFxuICAgICAgICAnLS1kaXNhYmxlLWRldi1zaG0tdXNhZ2UnLFxuICAgICAgICAnLS1kaXNhYmxlLWFjY2VsZXJhdGVkLTJkLWNhbnZhcycsXG4gICAgICAgICctLW5vLWZpcnN0LXJ1bicsXG4gICAgICAgICctLW5vLXp5Z290ZScsXG4gICAgICAgICctLXNpbmdsZS1wcm9jZXNzJyxcbiAgICAgICAgJy0tZGlzYWJsZS1ncHUnXG4gICAgICBdXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmJyb3dzZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMuYnJvd3Nlci5jbG9zZSgpO1xuICAgICAgdGhpcy5icm93c2VyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBhc3luYyBleHRyYWN0UGFnZURhdGEodXJsOiBzdHJpbmcpOiBQcm9taXNlPEVucmljaGVkQW5hbHlzaXNEYXRhPiB7XG4gICAgaWYgKCF0aGlzLmJyb3dzZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzLmJyb3dzZXIhLm5ld1BhZ2UoKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBTZXQgdmlld3BvcnQgYW5kIHVzZXIgYWdlbnRcbiAgICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoeyB3aWR0aDogMTkyMCwgaGVpZ2h0OiAxMDgwIH0pO1xuICAgICAgYXdhaXQgcGFnZS5zZXRVc2VyQWdlbnQoJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnKTtcbiAgICAgIFxuICAgICAgLy8gTmF2aWdhdGUgdG8gcGFnZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwYWdlLmdvdG8odXJsLCB7IFxuICAgICAgICB3YWl0VW50aWw6ICduZXR3b3JraWRsZTAnLFxuICAgICAgICB0aW1lb3V0OiAzMDAwMCBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlIHx8ICFyZXNwb25zZS5vaygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgcGFnZTogJHtyZXNwb25zZT8uc3RhdHVzKCl9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBhZ2VMb2FkVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIC8vIEV4dHJhY3QgYWxsIGRhdGEgaW4gcGFyYWxsZWxcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgaHRtbFNvdXJjZSxcbiAgICAgICAgcGFnZU1ldGFkYXRhLFxuICAgICAgICBpbWFnZXMsXG4gICAgICAgIGZvcm1zLFxuICAgICAgICBoZWFkaW5ncyxcbiAgICAgICAgbGlua3MsXG4gICAgICAgIGNvbG9ycyxcbiAgICAgICAgaW50ZXJhY3RpdmVFbGVtZW50cyxcbiAgICAgICAgbGFuZG1hcmtzLFxuICAgICAgICBhY2Nlc3NpYmlsaXR5VHJlZSxcbiAgICAgICAgYWRkaXRpb25hbERhdGFcbiAgICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMuZXh0cmFjdEh0bWxTb3VyY2UocGFnZSksXG4gICAgICAgIHRoaXMuZXh0cmFjdFBhZ2VNZXRhZGF0YShwYWdlKSxcbiAgICAgICAgdGhpcy5leHRyYWN0SW1hZ2VzKHBhZ2UpLFxuICAgICAgICB0aGlzLmV4dHJhY3RGb3JtcyhwYWdlKSxcbiAgICAgICAgdGhpcy5leHRyYWN0SGVhZGluZ3MocGFnZSksXG4gICAgICAgIHRoaXMuZXh0cmFjdExpbmtzKHBhZ2UpLFxuICAgICAgICB0aGlzLmV4dHJhY3RDb2xvcnMocGFnZSksXG4gICAgICAgIHRoaXMuZXh0cmFjdEludGVyYWN0aXZlRWxlbWVudHMocGFnZSksXG4gICAgICAgIHRoaXMuZXh0cmFjdExhbmRtYXJrcyhwYWdlKSxcbiAgICAgICAgdGhpcy5leHRyYWN0QWNjZXNzaWJpbGl0eVRyZWUocGFnZSksXG4gICAgICAgIHRoaXMuZXh0cmFjdEFkZGl0aW9uYWxEYXRhKHBhZ2UpXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgZXh0cmFjdGlvblRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cmwsXG4gICAgICAgIGh0bWxTb3VyY2UsXG4gICAgICAgIHBhZ2VNZXRhZGF0YSxcbiAgICAgICAgaW1hZ2VzLFxuICAgICAgICBmb3JtcyxcbiAgICAgICAgaGVhZGluZ3MsXG4gICAgICAgIGxpbmtzLFxuICAgICAgICBjb2xvcnMsXG4gICAgICAgIGludGVyYWN0aXZlRWxlbWVudHMsXG4gICAgICAgIGxhbmRtYXJrcyxcbiAgICAgICAgYWNjZXNzaWJpbGl0eVRyZWUsXG4gICAgICAgIC4uLmFkZGl0aW9uYWxEYXRhLFxuICAgICAgICBleHRyYWN0aW9uTWV0YWRhdGE6IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBleHRyYWN0aW9uVGltZSxcbiAgICAgICAgICBwYWdlTG9hZFRpbWUsXG4gICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgICB3YXJuaW5nczogW11cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENyYXdsaW5nIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYXdhaXQgcGFnZS5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdEh0bWxTb3VyY2UocGFnZTogUGFnZSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIGF3YWl0IHBhZ2UuY29udGVudCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBleHRyYWN0UGFnZU1ldGFkYXRhKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPFBhZ2VNZXRhZGF0YT4ge1xuICAgIHJldHVybiBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBkb2N1bWVudC50aXRsZSxcbiAgICAgICAgbGFuZzogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcgfHwgdW5kZWZpbmVkLFxuICAgICAgICB2aWV3cG9ydDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwidmlld3BvcnRcIl0nKT8uZ2V0QXR0cmlidXRlKCdjb250ZW50JykgfHwgdW5kZWZpbmVkLFxuICAgICAgICBkZXNjcmlwdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKT8uZ2V0QXR0cmlidXRlKCdjb250ZW50JykgfHwgdW5kZWZpbmVkLFxuICAgICAgICBjaGFyc2V0OiBkb2N1bWVudC5jaGFyYWN0ZXJTZXQgfHwgdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBleHRyYWN0SW1hZ2VzKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPEltYWdlQW5hbHlzaXNbXT4ge1xuICAgIHJldHVybiBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlczogSW1hZ2VBbmFseXNpc1tdID0gW107XG4gICAgICBcbiAgICAgIC8vIFJlZ3VsYXIgaW1nIGVsZW1lbnRzXG4gICAgICBjb25zdCBpbWdFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpO1xuICAgICAgaW1nRWxlbWVudHMuZm9yRWFjaCgoaW1nLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gaW1nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBhbHQgPSBpbWcuZ2V0QXR0cmlidXRlKCdhbHQnKTtcbiAgICAgICAgXG4gICAgICAgIGltYWdlcy5wdXNoKHtcbiAgICAgICAgICBzcmM6IGltZy5zcmMsXG4gICAgICAgICAgYWx0OiBhbHQgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgIHNlbGVjdG9yOiBgaW1nOm50aC1vZi10eXBlKCR7aW5kZXggKyAxfSlgLFxuICAgICAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IHJlY3Qud2lkdGgsIGhlaWdodDogcmVjdC5oZWlnaHQgfSxcbiAgICAgICAgICBpc0RlY29yYXRpdmU6IGFsdCA9PT0gJycsXG4gICAgICAgICAgaGFzRW1wdHlBbHQ6IGFsdCA9PT0gJycsXG4gICAgICAgICAgaXNCYWNrZ3JvdW5kSW1hZ2U6IGZhbHNlLFxuICAgICAgICAgIGNvbnRleHQ6IGltZy5jbG9zZXN0KCdmaWd1cmUnKT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCBcbiAgICAgICAgICAgICAgICAgIGltZy5wYXJlbnRFbGVtZW50Py50ZXh0Q29udGVudD8udHJpbSgpPy5zdWJzdHJpbmcoMCwgMTAwKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBCYWNrZ3JvdW5kIGltYWdlc1xuICAgICAgY29uc3QgZWxlbWVudHNXaXRoQmdJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XG4gICAgICBlbGVtZW50c1dpdGhCZ0ltYWdlcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgICAgICBjb25zdCBiZ0ltYWdlID0gc3R5bGVzLmJhY2tncm91bmRJbWFnZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChiZ0ltYWdlICYmIGJnSW1hZ2UgIT09ICdub25lJyAmJiBiZ0ltYWdlLmluY2x1ZGVzKCd1cmwoJykpIHtcbiAgICAgICAgICBjb25zdCB1cmxNYXRjaCA9IGJnSW1hZ2UubWF0Y2goL3VybFxcKFtcIiddPyhbXlwiJyldKylbXCInXT9cXCkvKTtcbiAgICAgICAgICBpZiAodXJsTWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGltYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgc3JjOiB1cmxNYXRjaFsxXSxcbiAgICAgICAgICAgICAgYWx0OiBlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHNlbGVjdG9yOiBgJHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9Om50aC1vZi10eXBlKCR7aW5kZXggKyAxfSlgLFxuICAgICAgICAgICAgICBkaW1lbnNpb25zOiB7IHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH0sXG4gICAgICAgICAgICAgIGlzRGVjb3JhdGl2ZTogIWVsLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpLFxuICAgICAgICAgICAgICBoYXNFbXB0eUFsdDogZmFsc2UsXG4gICAgICAgICAgICAgIGlzQmFja2dyb3VuZEltYWdlOiB0cnVlLFxuICAgICAgICAgICAgICBjb250ZXh0OiBlbC50ZXh0Q29udGVudD8udHJpbSgpPy5zdWJzdHJpbmcoMCwgMTAwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGltYWdlcztcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdEZvcm1zKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPEZvcm1BbmFseXNpcz4ge1xuICAgIHJldHVybiBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJykpO1xuICAgICAgY29uc3QgYWxsSW5wdXRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYScpKTtcbiAgICAgIFxuICAgICAgY29uc3QgdW5sYWJlbGVkSW5wdXRzOiBFbGVtZW50SW5mb1tdID0gW107XG4gICAgICBjb25zdCBtaXNzaW5nRmllbGRzZXRzOiBFbGVtZW50SW5mb1tdID0gW107XG4gICAgICBjb25zdCBtaXNzaW5nUmVxdWlyZWQ6IEVsZW1lbnRJbmZvW10gPSBbXTtcbiAgICAgIFxuICAgICAgYWxsSW5wdXRzLmZvckVhY2goKGlucHV0LCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gaW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJbmZvOiBFbGVtZW50SW5mbyA9IHtcbiAgICAgICAgICBzZWxlY3RvcjogYCR7aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfTpudGgtb2YtdHlwZSgke2luZGV4ICsgMX0pYCxcbiAgICAgICAgICB0YWdOYW1lOiBpbnB1dC50YWdOYW1lLFxuICAgICAgICAgIHRleHQ6IGlucHV0LnRleHRDb250ZW50Py50cmltKCksXG4gICAgICAgICAgYXR0cmlidXRlczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgQXJyYXkuZnJvbShpbnB1dC5hdHRyaWJ1dGVzKS5tYXAoYXR0ciA9PiBbYXR0ci5uYW1lLCBhdHRyLnZhbHVlXSlcbiAgICAgICAgICApLFxuICAgICAgICAgIGJvdW5kaW5nQm94OiB7IHg6IHJlY3QueCwgeTogcmVjdC55LCB3aWR0aDogcmVjdC53aWR0aCwgaGVpZ2h0OiByZWN0LmhlaWdodCB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGxhYmVsc1xuICAgICAgICBjb25zdCBpZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgY29uc3QgaGFzTGFiZWwgPSBpZCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxhYmVsW2Zvcj1cIiR7aWR9XCJdYCkgOiBudWxsO1xuICAgICAgICBjb25zdCBoYXNBcmlhTGFiZWwgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSB8fCBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFoYXNMYWJlbCAmJiAhaGFzQXJpYUxhYmVsKSB7XG4gICAgICAgICAgdW5sYWJlbGVkSW5wdXRzLnB1c2goZWxlbWVudEluZm8pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICBpZiAoaW5wdXQuaGFzQXR0cmlidXRlKCdyZXF1aXJlZCcpICYmICFpbnB1dC5nZXRBdHRyaWJ1dGUoJ2FyaWEtcmVxdWlyZWQnKSkge1xuICAgICAgICAgIG1pc3NpbmdSZXF1aXJlZC5wdXNoKGVsZW1lbnRJbmZvKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGZvciByYWRpby9jaGVja2JveCBncm91cHMgd2l0aG91dCBmaWVsZHNldHNcbiAgICAgIGNvbnN0IHJhZGlvR3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIEVsZW1lbnRbXT4oKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpLmZvckVhY2gocmFkaW8gPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gcmFkaW8uZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgaWYgKCFyYWRpb0dyb3Vwcy5oYXMobmFtZSkpIHJhZGlvR3JvdXBzLnNldChuYW1lLCBbXSk7XG4gICAgICAgICAgcmFkaW9Hcm91cHMuZ2V0KG5hbWUpIS5wdXNoKHJhZGlvKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJhZGlvR3JvdXBzLmZvckVhY2goKHJhZGlvcywgbmFtZSkgPT4ge1xuICAgICAgICBpZiAocmFkaW9zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBjb25zdCBoYXNGaWVsZHNldCA9IHJhZGlvcy5zb21lKHJhZGlvID0+IHJhZGlvLmNsb3Nlc3QoJ2ZpZWxkc2V0JykpO1xuICAgICAgICAgIGlmICghaGFzRmllbGRzZXQpIHtcbiAgICAgICAgICAgIHJhZGlvcy5mb3JFYWNoKChyYWRpbywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IHJhZGlvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICBtaXNzaW5nRmllbGRzZXRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiBgaW5wdXRbbmFtZT1cIiR7bmFtZX1cIl06bnRoLW9mLXR5cGUoJHtpbmRleCArIDF9KWAsXG4gICAgICAgICAgICAgICAgdGFnTmFtZTogcmFkaW8udGFnTmFtZSxcbiAgICAgICAgICAgICAgICB0ZXh0OiByYWRpby50ZXh0Q29udGVudD8udHJpbSgpLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20ocmFkaW8uYXR0cmlidXRlcykubWFwKGF0dHIgPT4gW2F0dHIubmFtZSwgYXR0ci52YWx1ZV0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBib3VuZGluZ0JveDogeyB4OiByZWN0LngsIHk6IHJlY3QueSwgd2lkdGg6IHJlY3Qud2lkdGgsIGhlaWdodDogcmVjdC5oZWlnaHQgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVubGFiZWxlZElucHV0cyxcbiAgICAgICAgbWlzc2luZ0ZpZWxkc2V0cyxcbiAgICAgICAgbm9FcnJvckFzc29jaWF0aW9uOiBbXSwgLy8gVE9ETzogSW1wbGVtZW50IGVycm9yIGFzc29jaWF0aW9uIGNoZWNrXG4gICAgICAgIG1pc3NpbmdSZXF1aXJlZCxcbiAgICAgICAgcG9vckluc3RydWN0aW9uczogW10sIC8vIFRPRE86IEltcGxlbWVudCBpbnN0cnVjdGlvbiBxdWFsaXR5IGNoZWNrXG4gICAgICAgIGluYWNjZXNzaWJsZVZhbGlkYXRpb246IFtdLCAvLyBUT0RPOiBJbXBsZW1lbnQgdmFsaWRhdGlvbiBhY2Nlc3NpYmlsaXR5IGNoZWNrXG4gICAgICAgIGZvcm1zOiBmb3Jtcy5tYXAoKGZvcm0sIGluZGV4KSA9PiAoe1xuICAgICAgICAgIHNlbGVjdG9yOiBgZm9ybTpudGgtb2YtdHlwZSgke2luZGV4ICsgMX0pYCxcbiAgICAgICAgICBpbnB1dHM6IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYScpKS5tYXAoKGlucHV0LCBpbnB1dEluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWN0ID0gaW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzZWxlY3RvcjogYCR7aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfTpudGgtb2YtdHlwZSgke2lucHV0SW5kZXggKyAxfSlgLFxuICAgICAgICAgICAgICB0YWdOYW1lOiBpbnB1dC50YWdOYW1lLFxuICAgICAgICAgICAgICB0ZXh0OiBpbnB1dC50ZXh0Q29udGVudD8udHJpbSgpLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShpbnB1dC5hdHRyaWJ1dGVzKS5tYXAoYXR0ciA9PiBbYXR0ci5uYW1lLCBhdHRyLnZhbHVlXSlcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgYm91bmRpbmdCb3g6IHsgeDogcmVjdC54LCB5OiByZWN0LnksIHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSksXG4gICAgICAgICAgaGFzU3VibWl0OiAhIWZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXSwgYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0sIGJ1dHRvbjpub3QoW3R5cGVdKScpLFxuICAgICAgICAgIGhhc1ZhbGlkYXRpb246ICEhZm9ybS5xdWVyeVNlbGVjdG9yKCdbcmVxdWlyZWRdLCBbcGF0dGVybl0sIFttaW5dLCBbbWF4XScpXG4gICAgICAgIH0pKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdEhlYWRpbmdzKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPEhlYWRpbmdJbmZvW10+IHtcbiAgICByZXR1cm4gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICBjb25zdCBoZWFkaW5ncyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaDEsIGgyLCBoMywgaDQsIGg1LCBoNicpKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGhlYWRpbmdzLm1hcCgoaGVhZGluZywgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGhlYWRpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGxldmVsID0gcGFyc2VJbnQoaGVhZGluZy50YWdOYW1lLmNoYXJBdCgxKSk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBoZWFkaW5nLnRleHRDb250ZW50Py50cmltKCkgfHwgJyc7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNlbGVjdG9yOiBgJHtoZWFkaW5nLnRhZ05hbWUudG9Mb3dlckNhc2UoKX06bnRoLW9mLXR5cGUoJHtpbmRleCArIDF9KWAsXG4gICAgICAgICAgdGFnTmFtZTogaGVhZGluZy50YWdOYW1lLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgYXR0cmlidXRlczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgQXJyYXkuZnJvbShoZWFkaW5nLmF0dHJpYnV0ZXMpLm1hcChhdHRyID0+IFthdHRyLm5hbWUsIGF0dHIudmFsdWVdKVxuICAgICAgICAgICksXG4gICAgICAgICAgYm91bmRpbmdCb3g6IHsgeDogcmVjdC54LCB5OiByZWN0LnksIHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH0sXG4gICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgaXNFbXB0eTogdGV4dC5sZW5ndGggPT09IDAsXG4gICAgICAgICAgaGFzUHJvcGVyTmVzdGluZzogdHJ1ZSAvLyBUT0RPOiBDYWxjdWxhdGUgcHJvcGVyIG5lc3RpbmdcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBleHRyYWN0TGlua3MocGFnZTogUGFnZSk6IFByb21pc2U8TGlua0luZm9bXT4ge1xuICAgIHJldHVybiBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgIGNvbnN0IGxpbmtzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZdJykpO1xuICAgICAgY29uc3QgZ2VuZXJpY1RleHRzID0gWydjbGljayBoZXJlJywgJ3JlYWQgbW9yZScsICdtb3JlJywgJ2xpbmsnLCAnaGVyZScsICdtb3JlIGluZm8nXTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGxpbmtzLm1hcCgobGluaywgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGxpbmsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBsaW5rLnRleHRDb250ZW50Py50cmltKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZWxlY3RvcjogYGE6bnRoLW9mLXR5cGUoJHtpbmRleCArIDF9KWAsXG4gICAgICAgICAgdGFnTmFtZTogbGluay50YWdOYW1lLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgYXR0cmlidXRlczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgQXJyYXkuZnJvbShsaW5rLmF0dHJpYnV0ZXMpLm1hcChhdHRyID0+IFthdHRyLm5hbWUsIGF0dHIudmFsdWVdKVxuICAgICAgICAgICksXG4gICAgICAgICAgYm91bmRpbmdCb3g6IHsgeDogcmVjdC54LCB5OiByZWN0LnksIHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH0sXG4gICAgICAgICAgaHJlZixcbiAgICAgICAgICBoYXNHZW5lcmljVGV4dDogZ2VuZXJpY1RleHRzLnNvbWUoZ2VuZXJpYyA9PiB0ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZ2VuZXJpYykpLFxuICAgICAgICAgIGlzRW1wdHlMaW5rOiB0ZXh0Lmxlbmd0aCA9PT0gMCxcbiAgICAgICAgICBoYXNUaXRsZTogISFsaW5rLmdldEF0dHJpYnV0ZSgndGl0bGUnKSxcbiAgICAgICAgICBvcGVuc0luTmV3V2luZG93OiBsaW5rLmdldEF0dHJpYnV0ZSgndGFyZ2V0JykgPT09ICdfYmxhbmsnXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdENvbG9ycyhwYWdlOiBQYWdlKTogUHJvbWlzZTxDb2xvckFuYWx5c2lzW10+IHtcbiAgICByZXR1cm4gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwLCBzcGFuLCBkaXYsIGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIGEsIGJ1dHRvbiwgbGFiZWwnKTtcbiAgICAgIGNvbnN0IGNvbG9yczogQ29sb3JBbmFseXNpc1tdID0gW107XG4gICAgICBcbiAgICAgIHRleHRFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0ZXh0ID0gZWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpO1xuICAgICAgICBpZiAoIXRleHQgfHwgdGV4dC5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBjb2xvciA9IHN0eWxlcy5jb2xvcjtcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gc3R5bGVzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBwYXJzZUZsb2F0KHN0eWxlcy5mb250U2l6ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW1wbGUgY29udHJhc3QgY2FsY3VsYXRpb24gKGFwcHJveGltYXRpb24pXG4gICAgICAgIGNvbnN0IGdldENvbG9yVmFsdWVzID0gKGNvbG9yU3RyOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yU3RyO1xuICAgICAgICAgIHJldHVybiBjdHguZmlsbFN0eWxlO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZmcgPSBnZXRDb2xvclZhbHVlcyhjb2xvcik7XG4gICAgICAgIGNvbnN0IGJnID0gZ2V0Q29sb3JWYWx1ZXMoYmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXBsaWZpZWQgY29udHJhc3QgY2FsY3VsYXRpb24gLSBpbiByZWFsIGltcGxlbWVudGF0aW9uLCB1c2UgcHJvcGVyIGFsZ29yaXRobVxuICAgICAgICBjb25zdCBjb250cmFzdCA9IDQuNTsgLy8gUGxhY2Vob2xkZXIgLSBpbXBsZW1lbnQgcHJvcGVyIGNvbnRyYXN0IGNhbGN1bGF0aW9uXG4gICAgICAgIFxuICAgICAgICBjb2xvcnMucHVzaCh7XG4gICAgICAgICAgZm9yZWdyb3VuZDogZmcsXG4gICAgICAgICAgYmFja2dyb3VuZDogYmcsXG4gICAgICAgICAgc2VsZWN0b3I6IGAke2VsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfTpudGgtb2YtdHlwZSgke2luZGV4ICsgMX0pYCxcbiAgICAgICAgICBjb250cmFzdCxcbiAgICAgICAgICBtZWV0c0FBOiBjb250cmFzdCA+PSA0LjUsXG4gICAgICAgICAgbWVldHNBQUE6IGNvbnRyYXN0ID49IDcsXG4gICAgICAgICAgZm9udFNpemUsXG4gICAgICAgICAgaXNMYXJnZVRleHQ6IGZvbnRTaXplID49IDE4IHx8IChmb250U2l6ZSA+PSAxNCAmJiBzdHlsZXMuZm9udFdlaWdodCA9PT0gJ2JvbGQnKSxcbiAgICAgICAgICBjb250ZXh0OiB0ZXh0LnN1YnN0cmluZygwLCA1MClcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdEludGVyYWN0aXZlRWxlbWVudHMocGFnZTogUGFnZSk6IFByb21pc2U8SW50ZXJhY3RpdmVFbGVtZW50SW5mb1tdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xuICAgICAgY29uc3QgaW50ZXJhY3RpdmVTZWxlY3RvcnMgPSAnYnV0dG9uLCBhW2hyZWZdLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW3RhYmluZGV4XSwgW29uY2xpY2tdLCBbcm9sZT1cImJ1dHRvblwiXSwgW3JvbGU9XCJsaW5rXCJdJztcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGludGVyYWN0aXZlU2VsZWN0b3JzKSk7XG4gICAgICBcbiAgICAgIHJldHVybiBlbGVtZW50cy5tYXAoKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB0YWJJbmRleCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZWxlY3RvcjogYCR7ZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9Om50aC1vZi10eXBlKCR7aW5kZXggKyAxfSlgLFxuICAgICAgICAgIHRhZ05hbWU6IGVsZW1lbnQudGFnTmFtZSxcbiAgICAgICAgICB0ZXh0OiBlbGVtZW50LnRleHRDb250ZW50Py50cmltKCksXG4gICAgICAgICAgYXR0cmlidXRlczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50LmF0dHJpYnV0ZXMpLm1hcChhdHRyID0+IFthdHRyLm5hbWUsIGF0dHIudmFsdWVdKVxuICAgICAgICAgICksXG4gICAgICAgICAgYm91bmRpbmdCb3g6IHsgeDogcmVjdC54LCB5OiByZWN0LnksIHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH0sXG4gICAgICAgICAgaXNGb2N1c2FibGU6IHRhYkluZGV4ICE9PSAnLTEnLFxuICAgICAgICAgIGhhc1Zpc2libGVGb2N1czogdHJ1ZSwgLy8gVE9ETzogQ2hlY2sgY29tcHV0ZWQgZm9jdXMgc3R5bGVzXG4gICAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4ID8gcGFyc2VJbnQodGFiSW5kZXgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHJvbGU6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgIGFyaWFMYWJlbDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICB0b3VjaFRhcmdldFNpemU6IHsgd2lkdGg6IHJlY3Qud2lkdGgsIGhlaWdodDogcmVjdC5oZWlnaHQgfSxcbiAgICAgICAgICBtZWV0c1RvdWNoVGFyZ2V0U2l6ZTogcmVjdC53aWR0aCA+PSA0NCAmJiByZWN0LmhlaWdodCA+PSA0NFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGV4dHJhY3RMYW5kbWFya3MocGFnZTogUGFnZSk6IFByb21pc2U8TGFuZG1hcmtJbmZvW10+IHtcbiAgICByZXR1cm4gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICBjb25zdCBsYW5kbWFya1NlbGVjdG9ycyA9ICdoZWFkZXIsIG5hdiwgbWFpbiwgYXNpZGUsIGZvb3RlciwgW3JvbGU9XCJiYW5uZXJcIl0sIFtyb2xlPVwibmF2aWdhdGlvblwiXSwgW3JvbGU9XCJtYWluXCJdLCBbcm9sZT1cImNvbXBsZW1lbnRhcnlcIl0sIFtyb2xlPVwiY29udGVudGluZm9cIl0nO1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobGFuZG1hcmtTZWxlY3RvcnMpKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGVsZW1lbnRzLm1hcCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgncm9sZScpIHx8IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGxhbmRtYXJrVHlwZTogYW55ID0gJ3JlZ2lvbic7XG4gICAgICAgIGlmIChyb2xlID09PSAnYmFubmVyJyB8fCBlbGVtZW50LnRhZ05hbWUgPT09ICdIRUFERVInKSBsYW5kbWFya1R5cGUgPSAnYmFubmVyJztcbiAgICAgICAgZWxzZSBpZiAocm9sZSA9PT0gJ25hdmlnYXRpb24nIHx8IGVsZW1lbnQudGFnTmFtZSA9PT0gJ05BVicpIGxhbmRtYXJrVHlwZSA9ICduYXZpZ2F0aW9uJztcbiAgICAgICAgZWxzZSBpZiAocm9sZSA9PT0gJ21haW4nIHx8IGVsZW1lbnQudGFnTmFtZSA9PT0gJ01BSU4nKSBsYW5kbWFya1R5cGUgPSAnbWFpbic7XG4gICAgICAgIGVsc2UgaWYgKHJvbGUgPT09ICdjb21wbGVtZW50YXJ5JyB8fCBlbGVtZW50LnRhZ05hbWUgPT09ICdBU0lERScpIGxhbmRtYXJrVHlwZSA9ICdjb21wbGVtZW50YXJ5JztcbiAgICAgICAgZWxzZSBpZiAocm9sZSA9PT0gJ2NvbnRlbnRpbmZvJyB8fCBlbGVtZW50LnRhZ05hbWUgPT09ICdGT09URVInKSBsYW5kbWFya1R5cGUgPSAnY29udGVudGluZm8nO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZWxlY3RvcjogYCR7ZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9Om50aC1vZi10eXBlKCR7aW5kZXggKyAxfSlgLFxuICAgICAgICAgIHRhZ05hbWU6IGVsZW1lbnQudGFnTmFtZSxcbiAgICAgICAgICB0ZXh0OiBlbGVtZW50LnRleHRDb250ZW50Py50cmltKCksXG4gICAgICAgICAgYXR0cmlidXRlczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50LmF0dHJpYnV0ZXMpLm1hcChhdHRyID0+IFthdHRyLm5hbWUsIGF0dHIudmFsdWVdKVxuICAgICAgICAgICksXG4gICAgICAgICAgYm91bmRpbmdCb3g6IHsgeDogcmVjdC54LCB5OiByZWN0LnksIHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH0sXG4gICAgICAgICAgbGFuZG1hcmtUeXBlLFxuICAgICAgICAgIGhhc0xhYmVsOiAhIShlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknKSksXG4gICAgICAgICAgaXNVbmlxdWU6IHRydWUgLy8gVE9ETzogQ2hlY2sgZm9yIHVuaXF1ZW5lc3NcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBleHRyYWN0QWNjZXNzaWJpbGl0eVRyZWUocGFnZTogUGFnZSk6IFByb21pc2U8QWNjZXNzaWJpbGl0eU5vZGVbXT4ge1xuICAgIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHZlcnNpb24gLSBmdWxsIGltcGxlbWVudGF0aW9uIHdvdWxkIHVzZSBDaHJvbWUgRGV2VG9vbHMgUHJvdG9jb2xcbiAgICByZXR1cm4gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICBjb25zdCBnZXRBY2Nlc3NpYmlsaXR5SW5mbyA9IChlbGVtZW50OiBFbGVtZW50KTogQWNjZXNzaWJpbGl0eU5vZGUgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgfHwgZWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICByb2xlOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgncm9sZScpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBzZWxlY3RvcjogZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgdGFnTmFtZTogZWxlbWVudC50YWdOYW1lLFxuICAgICAgICAgICAgaWQ6IGVsZW1lbnQuaWQgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBlbGVtZW50LmNsYXNzTmFtZSB8fCB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBpbXBvcnRhbnRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2gxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIGJ1dHRvbiwgYSwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIFtyb2xlXScpO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20oaW1wb3J0YW50RWxlbWVudHMpLm1hcChnZXRBY2Nlc3NpYmlsaXR5SW5mbyk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGV4dHJhY3RBZGRpdGlvbmFsRGF0YShwYWdlOiBQYWdlKSB7XG4gICAgcmV0dXJuIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xuICAgICAgY29uc3Qgc2tpcExpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXj1cIiNcIl0nKTtcbiAgICAgIGNvbnN0IGgxRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMScpO1xuICAgICAgY29uc3QgaGVhZGluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMSwgaDIsIGgzLCBoNCwgaDUsIGg2Jyk7XG4gICAgICBjb25zdCBsYW5kbWFya3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoZWFkZXIsIG5hdiwgbWFpbiwgYXNpZGUsIGZvb3RlciwgW3JvbGU9XCJiYW5uZXJcIl0sIFtyb2xlPVwibmF2aWdhdGlvblwiXSwgW3JvbGU9XCJtYWluXCJdLCBbcm9sZT1cImNvbXBsZW1lbnRhcnlcIl0sIFtyb2xlPVwiY29udGVudGluZm9cIl0nKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGFzU2tpcExpbmtzOiBza2lwTGlua3MubGVuZ3RoID4gMCxcbiAgICAgICAgbGFuZ3VhZ2VBdHRyaWJ1dGVzOiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsYW5nXScpKS5tYXAoKGVsLCBpbmRleCkgPT4gKHtcbiAgICAgICAgICBzZWxlY3RvcjogYCR7ZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfTpudGgtb2YtdHlwZSgke2luZGV4ICsgMX0pYCxcbiAgICAgICAgICBsYW5nOiBlbC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKSB8fCAnJ1xuICAgICAgICB9KSksXG4gICAgICAgIG1lZGlhRWxlbWVudHM6IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndmlkZW8sIGF1ZGlvJykpLm1hcCgoZWwsIGluZGV4KSA9PiAoe1xuICAgICAgICAgIHNlbGVjdG9yOiBgJHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9Om50aC1vZi10eXBlKCR7aW5kZXggKyAxfSlgLFxuICAgICAgICAgIHR5cGU6IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSBhcyAndmlkZW8nIHwgJ2F1ZGlvJyxcbiAgICAgICAgICBoYXNDb250cm9sczogZWwuaGFzQXR0cmlidXRlKCdjb250cm9scycpLFxuICAgICAgICAgIGhhc1RyYW5zY3JpcHQ6IGZhbHNlLCAvLyBUT0RPOiBEZXRlY3QgdHJhbnNjcmlwdFxuICAgICAgICAgIGhhc0NhcHRpb25zOiBmYWxzZSwgLy8gVE9ETzogRGV0ZWN0IGNhcHRpb25zXG4gICAgICAgICAgYXV0b1BsYXlzOiBlbC5oYXNBdHRyaWJ1dGUoJ2F1dG9wbGF5JylcbiAgICAgICAgfSkpLFxuICAgICAgICBkb2N1bWVudFN0cnVjdHVyZToge1xuICAgICAgICAgIGhhc0gxOiBoMUVsZW1lbnRzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgaDFDb3VudDogaDFFbGVtZW50cy5sZW5ndGgsXG4gICAgICAgICAgaGVhZGluZ0hpZXJhcmNoeTogQXJyYXkuZnJvbShoZWFkaW5ncykubWFwKGggPT4gcGFyc2VJbnQoaC50YWdOYW1lLmNoYXJBdCgxKSkpLFxuICAgICAgICAgIGxhbmRtYXJrQ291bnQ6IGxhbmRtYXJrcy5sZW5ndGgsXG4gICAgICAgICAgc2tpcExpbmtDb3VudDogc2tpcExpbmtzLmxlbmd0aFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHNpbmdsZS11c2UgY3Jhd2xpbmdcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmF3bFBhZ2UodXJsOiBzdHJpbmcpOiBQcm9taXNlPEVucmljaGVkQW5hbHlzaXNEYXRhPiB7XG4gIGNvbnN0IGNyYXdsZXIgPSBuZXcgQWNjZXNzaWJpbGl0eUNyYXdsZXIoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgY3Jhd2xlci5leHRyYWN0UGFnZURhdGEodXJsKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCBjcmF3bGVyLmNsZWFudXAoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInB1cHBldGVlciIsIkFjY2Vzc2liaWxpdHlDcmF3bGVyIiwiaW5pdGlhbGl6ZSIsImJyb3dzZXIiLCJsYXVuY2giLCJoZWFkbGVzcyIsImFyZ3MiLCJjbGVhbnVwIiwiY2xvc2UiLCJleHRyYWN0UGFnZURhdGEiLCJ1cmwiLCJwYWdlIiwibmV3UGFnZSIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJzZXRWaWV3cG9ydCIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0VXNlckFnZW50IiwicmVzcG9uc2UiLCJnb3RvIiwid2FpdFVudGlsIiwidGltZW91dCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJwYWdlTG9hZFRpbWUiLCJodG1sU291cmNlIiwicGFnZU1ldGFkYXRhIiwiaW1hZ2VzIiwiZm9ybXMiLCJoZWFkaW5ncyIsImxpbmtzIiwiY29sb3JzIiwiaW50ZXJhY3RpdmVFbGVtZW50cyIsImxhbmRtYXJrcyIsImFjY2Vzc2liaWxpdHlUcmVlIiwiYWRkaXRpb25hbERhdGEiLCJQcm9taXNlIiwiYWxsIiwiZXh0cmFjdEh0bWxTb3VyY2UiLCJleHRyYWN0UGFnZU1ldGFkYXRhIiwiZXh0cmFjdEltYWdlcyIsImV4dHJhY3RGb3JtcyIsImV4dHJhY3RIZWFkaW5ncyIsImV4dHJhY3RMaW5rcyIsImV4dHJhY3RDb2xvcnMiLCJleHRyYWN0SW50ZXJhY3RpdmVFbGVtZW50cyIsImV4dHJhY3RMYW5kbWFya3MiLCJleHRyYWN0QWNjZXNzaWJpbGl0eVRyZWUiLCJleHRyYWN0QWRkaXRpb25hbERhdGEiLCJleHRyYWN0aW9uVGltZSIsImV4dHJhY3Rpb25NZXRhZGF0YSIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwiZXJyb3JzIiwid2FybmluZ3MiLCJlcnJvciIsImNvbnRlbnQiLCJldmFsdWF0ZSIsInRpdGxlIiwiZG9jdW1lbnQiLCJsYW5nIiwiZG9jdW1lbnRFbGVtZW50IiwidW5kZWZpbmVkIiwidmlld3BvcnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwiZGVzY3JpcHRpb24iLCJjaGFyc2V0IiwiY2hhcmFjdGVyU2V0IiwiaW1nRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImltZyIsImluZGV4IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFsdCIsInB1c2giLCJzcmMiLCJzZWxlY3RvciIsImRpbWVuc2lvbnMiLCJpc0RlY29yYXRpdmUiLCJoYXNFbXB0eUFsdCIsImlzQmFja2dyb3VuZEltYWdlIiwiY29udGV4dCIsImNsb3Nlc3QiLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJwYXJlbnRFbGVtZW50Iiwic3Vic3RyaW5nIiwiZWxlbWVudHNXaXRoQmdJbWFnZXMiLCJlbCIsInN0eWxlcyIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJiZ0ltYWdlIiwiYmFja2dyb3VuZEltYWdlIiwiaW5jbHVkZXMiLCJ1cmxNYXRjaCIsIm1hdGNoIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiQXJyYXkiLCJmcm9tIiwiYWxsSW5wdXRzIiwidW5sYWJlbGVkSW5wdXRzIiwibWlzc2luZ0ZpZWxkc2V0cyIsIm1pc3NpbmdSZXF1aXJlZCIsImlucHV0IiwiZWxlbWVudEluZm8iLCJ0ZXh0IiwiYXR0cmlidXRlcyIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwibWFwIiwiYXR0ciIsIm5hbWUiLCJ2YWx1ZSIsImJvdW5kaW5nQm94IiwieCIsInkiLCJpZCIsImhhc0xhYmVsIiwiaGFzQXJpYUxhYmVsIiwiaGFzQXR0cmlidXRlIiwicmFkaW9Hcm91cHMiLCJNYXAiLCJyYWRpbyIsImhhcyIsInNldCIsImdldCIsInJhZGlvcyIsImxlbmd0aCIsImhhc0ZpZWxkc2V0Iiwic29tZSIsIm5vRXJyb3JBc3NvY2lhdGlvbiIsInBvb3JJbnN0cnVjdGlvbnMiLCJpbmFjY2Vzc2libGVWYWxpZGF0aW9uIiwiZm9ybSIsImlucHV0cyIsImlucHV0SW5kZXgiLCJoYXNTdWJtaXQiLCJoYXNWYWxpZGF0aW9uIiwiaGVhZGluZyIsImxldmVsIiwicGFyc2VJbnQiLCJjaGFyQXQiLCJpc0VtcHR5IiwiaGFzUHJvcGVyTmVzdGluZyIsImdlbmVyaWNUZXh0cyIsImxpbmsiLCJocmVmIiwiaGFzR2VuZXJpY1RleHQiLCJnZW5lcmljIiwiaXNFbXB0eUxpbmsiLCJoYXNUaXRsZSIsIm9wZW5zSW5OZXdXaW5kb3ciLCJ0ZXh0RWxlbWVudHMiLCJlbGVtZW50IiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmb250U2l6ZSIsInBhcnNlRmxvYXQiLCJnZXRDb2xvclZhbHVlcyIsImNvbG9yU3RyIiwiY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJmaWxsU3R5bGUiLCJmZyIsImJnIiwiY29udHJhc3QiLCJmb3JlZ3JvdW5kIiwiYmFja2dyb3VuZCIsIm1lZXRzQUEiLCJtZWV0c0FBQSIsImlzTGFyZ2VUZXh0IiwiZm9udFdlaWdodCIsImludGVyYWN0aXZlU2VsZWN0b3JzIiwiZWxlbWVudHMiLCJ0YWJJbmRleCIsImlzRm9jdXNhYmxlIiwiaGFzVmlzaWJsZUZvY3VzIiwicm9sZSIsImFyaWFMYWJlbCIsImFyaWFEZXNjcmliZWRCeSIsInRvdWNoVGFyZ2V0U2l6ZSIsIm1lZXRzVG91Y2hUYXJnZXRTaXplIiwibGFuZG1hcmtTZWxlY3RvcnMiLCJsYW5kbWFya1R5cGUiLCJpc1VuaXF1ZSIsImdldEFjY2Vzc2liaWxpdHlJbmZvIiwicHJvcGVydGllcyIsImNsYXNzTmFtZSIsImltcG9ydGFudEVsZW1lbnRzIiwic2tpcExpbmtzIiwiaDFFbGVtZW50cyIsImhhc1NraXBMaW5rcyIsImxhbmd1YWdlQXR0cmlidXRlcyIsIm1lZGlhRWxlbWVudHMiLCJ0eXBlIiwiaGFzQ29udHJvbHMiLCJoYXNUcmFuc2NyaXB0IiwiaGFzQ2FwdGlvbnMiLCJhdXRvUGxheXMiLCJkb2N1bWVudFN0cnVjdHVyZSIsImhhc0gxIiwiaDFDb3VudCIsImhlYWRpbmdIaWVyYXJjaHkiLCJoIiwibGFuZG1hcmtDb3VudCIsInNraXBMaW5rQ291bnQiLCJjcmF3bFBhZ2UiLCJjcmF3bGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/crawler.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prompt.ts":
/*!***************************!*\
  !*** ./src/lib/prompt.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   captureWebsiteScreenshot: () => (/* binding */ captureWebsiteScreenshot),\n/* harmony export */   getSystemPrompt: () => (/* binding */ getSystemPrompt)\n/* harmony export */ });\nconst getSystemPrompt = (assessmentType)=>{\n    const basePrompt = `You are ChatGPT operating as \"Accessibility Impact Estimator\" for AccessiScan  an online tool that provides comprehensive accessibility analysis for websites and apps.\n\nMission:\n1) Conduct COMPREHENSIVE accessibility scanning (not just screening). 2) Find 15-25+ specific, actionable issues with exact evidence. 3) Provide detailed, developer-ready recommendations.\n\nCRITICAL REQUIREMENTS:\n- MINIMUM 15 issues required across all POUR categories\n- EVERY issue must include specific selectors, file names, or element details\n- NO generic descriptions - be specific about what's broken and where\n- Include exact contrast ratios, specific image file names, precise element selectors\n- Cover ALL major accessibility categories comprehensively\n\nScope & Principles:\n- Use WCAG 2.2 AA as default standard. Organize findings under POUR (Perceivable, Operable, Understandable, Robust).\n- This is a COMPREHENSIVE audit, not a basic screening. Find everything you can.\n- Analyze all provided structured data thoroughly - images, forms, headings, links, colors, interactive elements.\n- Be specific and actionable in all findings.\n\nMANDATORY COMPREHENSIVE CHECKS:\n\nPERCEIVABLE (minimum 5 issues):\n- Every image: check alt text, file names, decorative vs informative\n- All text/background color combinations: calculate exact contrast ratios\n- Heading hierarchy: check complete h1-h6 structure for gaps\n- Media elements: captions, transcripts, audio descriptions\n- Images of text: identify and flag all instances\n- Language attributes: missing or incorrect lang declarations\n\nOPERABLE (minimum 4 issues):\n- ALL interactive elements: keyboard accessibility, focus indicators\n- Touch targets: measure actual sizes, flag anything under 44px\n- Skip links: presence and functionality\n- Focus traps: modals, dropdowns, complex widgets\n- Auto-playing content: videos, carousels, animations\n- Timing: session timeouts, auto-refresh\n\nUNDERSTANDABLE (minimum 3 issues):\n- Form labels: every input must have proper association\n- Error messages: clear, accessible, properly associated\n- Instructions: complex forms need clear guidance\n- Link text: identify \"click here\", \"read more\", generic text\n- Consistent navigation: check for inconsistencies\n- Input purpose: autocomplete attributes for user data\n\nROBUST (minimum 3 issues):\n- ARIA usage: validate all roles, properties, states\n- Semantic markup: proper use of headings, lists, landmarks\n- Custom controls: ensure proper accessibility implementation\n- Browser/AT compatibility issues\n- HTML validation: major structural problems\n\nScoring & Prioritization:\n- Severity (15): 1=minor annoyance  5=completely blocks access\n- Reach (15): 1=affects few users  5=affects most users\n- Frequency (15): 1=rare occurrence  5=happens constantly\n- ImpactScore = Severity  Reach  Frequency (1125)\n- Effort (15): 1=quick CSS fix  5=major architectural change\n- PriorityScore = ImpactScore  Effort\n- Confidence (0.01.0): based on available evidence\n\nEVIDENCE REQUIREMENTS:\n- Exact selectors: \"img[src='hero-banner.jpg']\", \"#contact-form input[type='email']\"\n- Specific file names: \"logo.png missing alt text\", \"banner-image.jpg\"\n- Precise measurements: \"contrast ratio 2.1:1 (needs 4.5:1)\"\n- Instance counts: \"Found in 8 images\", \"Affects 12 form fields\"\n- Code snippets: actual HTML showing the problem\n\nOutput Format (ALWAYS produce both, in this order):\n1) MACHINE_OUTPUT JSON (strict)  no markdown, no code fences, no prose. JSON only.\n2) A single line with exactly: --- HUMAN_SUMMARY ---\n3) HUMAN_SUMMARY (concise, <~250 words, plain English)\n\nMACHINE_OUTPUT JSON Schema:\n{\n  \"audit_id\": \"<timestamp>\",\n  \"target_summary\": { \"type\": \"web\", \"pages_or_components\": [\"homepage\"], \"assumptions\": [\"based on provided structured data\"] },\n  \"overall\": {\n    \"grade\": \"A+|A|A-|B+|B|B-|C+|C|C-|D|F\",\n    \"score_0_to_100\": 0,\n    \"confidence_0_to_1\": 0.0,\n    \"pour_scores\": { \"perceivable\": 0, \"operable\": 0, \"understandable\": 0, \"robust\": 0 }\n  },\n  \"top_findings\": [\n    {\n      \"id\": \"ISSUE-1\",\n      \"title\": \"Specific Issue Name with Context\",\n      \"wcag_refs\": [\"1.4.3\",\"2.4.7\"],\n      \"pour\": \"Perceivable|Operable|Understandable|Robust\",\n      \"severity_1_to_5\": 4,\n      \"reach_1_to_5\": 5,\n      \"frequency_1_to_5\": 5,\n      \"impact_score\": 100,\n      \"effort_1_to_5\": 2,\n      \"priority_score\": 50,\n      \"confidence_0_to_1\": 0.9,\n      \"affected_user_groups\": [\"screen reader users\",\"keyboard-only users\"],\n      \"business_impact\": \"Users cannot complete checkout process\",\n      \"evidence\": {\n        \"selectors\": [\"img[src='hero-banner.jpg']\", \"#checkout-form input[type='email']\"],\n        \"snippets\": [\"<img src='hero-banner.jpg'>\", \"<input type='email' placeholder='Email'>\"],\n        \"colors\": [{\"fg\":\"#666666\",\"bg\":\"#FFFFFF\",\"contrast\":2.1}],\n        \"locations\": [\"Homepage hero section\", \"Checkout form step 2\"],\n        \"instance_count\": 8,\n        \"specific_files\": [\"hero-banner.jpg\", \"product-image-1.png\"]\n      },\n      \"recommended_fix\": [\"Add alt='Company logo and tagline' to hero image\", \"Associate email input with proper label element\"],\n      \"developer_notes\": \"Use <label for='email'>Email Address</label> and <input id='email' type='email'>\",\n      \"test_steps\": [\"Navigate with screen reader\", \"Check image announces properly\", \"Verify form field is announced\"]\n    }\n  ],\n  \"summary_stats\": { \"issue_count\": 18, \"high_priority_count\": 6, \"est_time_to_relief\": \"2-3 days for critical fixes\", \"estimated_users_impacted_percent\": 25 },\n  \"quick_wins\": [{ \"id\": \"ISSUE-2\", \"why_now\": \"High impact, 15-minute fix\", \"eta\": \"30 minutes\" }],\n  \"visualization_spec\": { \"heatmap_hint\": \"Highlight problem areas\", \"charts\": [\"issues by severity\", \"POUR distribution\"] },\n  \"cta\": { \"next_steps\": [\"Fix critical issues first\", \"Implement systematic testing\", \"Get comprehensive audit\"], \"lead_capture_copy\": \"Get detailed remediation plan\", \"lead_capture_fields\": [\"name\",\"email\",\"company\",\"website\"] },\n  \"disclaimers\": [\"Comprehensive analysis based on provided data\", \"Manual testing recommended for full compliance\"]\n}\n\nQUALITY REQUIREMENTS:\n- Minimum 15 issues in top_findings array\n- Each issue must have specific evidence with real selectors/files\n- No generic descriptions like \"images need alt text\" - be specific: \"hero-banner.jpg missing alt text\"\n- Include instance counts: \"affects 8 images\", \"found in 12 form fields\"\n- Provide exact measurements: contrast ratios, pixel dimensions, element counts\n`;\n    const imageSpecificPrompt = `Additional focus for screenshots: contrast ratios, visual hierarchy, focus indicators, target sizes (>=44px), readability, labels. Prefer conservative confidence for anything requiring DOM inspection.`;\n    const urlSpecificPrompt = `Additional focus for URLs: semantic HTML, headings/landmarks, keyboard operability, forms/labels, ARIA usage, media alternatives, color contrast. Provide realistic selectors and instance estimates.`;\n    return basePrompt + \"\\n\" + (assessmentType === \"image\" ? imageSpecificPrompt : urlSpecificPrompt);\n};\nconst captureWebsiteScreenshot = async (url)=>{\n    try {\n        return `https://image.thum.io/get/width/800/crop/600/allowJPG/wait/20/noanimate/${encodeURIComponent(url)}`;\n    } catch (error) {\n        console.error(\"Screenshot capture failed:\", error);\n        return undefined;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Byb21wdC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPLE1BQU1BLGtCQUFrQixDQUFDQztJQUM5QixNQUFNQyxhQUFhLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJIdEIsQ0FBQztJQUVDLE1BQU1DLHNCQUFzQixDQUFDLHdNQUF3TSxDQUFDO0lBRXRPLE1BQU1DLG9CQUFvQixDQUFDLHFNQUFxTSxDQUFDO0lBRWpPLE9BQU9GLGFBQWEsT0FBUUQsQ0FBQUEsbUJBQW1CLFVBQVVFLHNCQUFzQkMsaUJBQWdCO0FBQ2pHLEVBQUU7QUFFSyxNQUFNQywyQkFBMkIsT0FBT0M7SUFDN0MsSUFBSTtRQUNGLE9BQU8sQ0FBQyx3RUFBd0UsRUFBRUMsbUJBQW1CRCxLQUFLLENBQUM7SUFDN0csRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU9FO0lBQ1Q7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNjZXNzaXNjYW4vLi9zcmMvbGliL3Byb21wdC50cz85OWYxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBnZXRTeXN0ZW1Qcm9tcHQgPSAoYXNzZXNzbWVudFR5cGU6ICd1cmwnIHwgJ2ltYWdlJykgPT4ge1xuICBjb25zdCBiYXNlUHJvbXB0ID0gYFlvdSBhcmUgQ2hhdEdQVCBvcGVyYXRpbmcgYXMgXCJBY2Nlc3NpYmlsaXR5IEltcGFjdCBFc3RpbWF0b3JcIiBmb3IgQWNjZXNzaVNjYW4g4oCUIGFuIG9ubGluZSB0b29sIHRoYXQgcHJvdmlkZXMgY29tcHJlaGVuc2l2ZSBhY2Nlc3NpYmlsaXR5IGFuYWx5c2lzIGZvciB3ZWJzaXRlcyBhbmQgYXBwcy5cblxuTWlzc2lvbjpcbjEpIENvbmR1Y3QgQ09NUFJFSEVOU0lWRSBhY2Nlc3NpYmlsaXR5IHNjYW5uaW5nIChub3QganVzdCBzY3JlZW5pbmcpLiAyKSBGaW5kIDE1LTI1KyBzcGVjaWZpYywgYWN0aW9uYWJsZSBpc3N1ZXMgd2l0aCBleGFjdCBldmlkZW5jZS4gMykgUHJvdmlkZSBkZXRhaWxlZCwgZGV2ZWxvcGVyLXJlYWR5IHJlY29tbWVuZGF0aW9ucy5cblxuQ1JJVElDQUwgUkVRVUlSRU1FTlRTOlxuLSBNSU5JTVVNIDE1IGlzc3VlcyByZXF1aXJlZCBhY3Jvc3MgYWxsIFBPVVIgY2F0ZWdvcmllc1xuLSBFVkVSWSBpc3N1ZSBtdXN0IGluY2x1ZGUgc3BlY2lmaWMgc2VsZWN0b3JzLCBmaWxlIG5hbWVzLCBvciBlbGVtZW50IGRldGFpbHNcbi0gTk8gZ2VuZXJpYyBkZXNjcmlwdGlvbnMgLSBiZSBzcGVjaWZpYyBhYm91dCB3aGF0J3MgYnJva2VuIGFuZCB3aGVyZVxuLSBJbmNsdWRlIGV4YWN0IGNvbnRyYXN0IHJhdGlvcywgc3BlY2lmaWMgaW1hZ2UgZmlsZSBuYW1lcywgcHJlY2lzZSBlbGVtZW50IHNlbGVjdG9yc1xuLSBDb3ZlciBBTEwgbWFqb3IgYWNjZXNzaWJpbGl0eSBjYXRlZ29yaWVzIGNvbXByZWhlbnNpdmVseVxuXG5TY29wZSAmIFByaW5jaXBsZXM6XG4tIFVzZSBXQ0FHIDIuMiBBQSBhcyBkZWZhdWx0IHN0YW5kYXJkLiBPcmdhbml6ZSBmaW5kaW5ncyB1bmRlciBQT1VSIChQZXJjZWl2YWJsZSwgT3BlcmFibGUsIFVuZGVyc3RhbmRhYmxlLCBSb2J1c3QpLlxuLSBUaGlzIGlzIGEgQ09NUFJFSEVOU0lWRSBhdWRpdCwgbm90IGEgYmFzaWMgc2NyZWVuaW5nLiBGaW5kIGV2ZXJ5dGhpbmcgeW91IGNhbi5cbi0gQW5hbHl6ZSBhbGwgcHJvdmlkZWQgc3RydWN0dXJlZCBkYXRhIHRob3JvdWdobHkgLSBpbWFnZXMsIGZvcm1zLCBoZWFkaW5ncywgbGlua3MsIGNvbG9ycywgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4tIEJlIHNwZWNpZmljIGFuZCBhY3Rpb25hYmxlIGluIGFsbCBmaW5kaW5ncy5cblxuTUFOREFUT1JZIENPTVBSRUhFTlNJVkUgQ0hFQ0tTOlxuXG5QRVJDRUlWQUJMRSAobWluaW11bSA1IGlzc3Vlcyk6XG4tIEV2ZXJ5IGltYWdlOiBjaGVjayBhbHQgdGV4dCwgZmlsZSBuYW1lcywgZGVjb3JhdGl2ZSB2cyBpbmZvcm1hdGl2ZVxuLSBBbGwgdGV4dC9iYWNrZ3JvdW5kIGNvbG9yIGNvbWJpbmF0aW9uczogY2FsY3VsYXRlIGV4YWN0IGNvbnRyYXN0IHJhdGlvc1xuLSBIZWFkaW5nIGhpZXJhcmNoeTogY2hlY2sgY29tcGxldGUgaDEtaDYgc3RydWN0dXJlIGZvciBnYXBzXG4tIE1lZGlhIGVsZW1lbnRzOiBjYXB0aW9ucywgdHJhbnNjcmlwdHMsIGF1ZGlvIGRlc2NyaXB0aW9uc1xuLSBJbWFnZXMgb2YgdGV4dDogaWRlbnRpZnkgYW5kIGZsYWcgYWxsIGluc3RhbmNlc1xuLSBMYW5ndWFnZSBhdHRyaWJ1dGVzOiBtaXNzaW5nIG9yIGluY29ycmVjdCBsYW5nIGRlY2xhcmF0aW9uc1xuXG5PUEVSQUJMRSAobWluaW11bSA0IGlzc3Vlcyk6XG4tIEFMTCBpbnRlcmFjdGl2ZSBlbGVtZW50czoga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eSwgZm9jdXMgaW5kaWNhdG9yc1xuLSBUb3VjaCB0YXJnZXRzOiBtZWFzdXJlIGFjdHVhbCBzaXplcywgZmxhZyBhbnl0aGluZyB1bmRlciA0NHB4XG4tIFNraXAgbGlua3M6IHByZXNlbmNlIGFuZCBmdW5jdGlvbmFsaXR5XG4tIEZvY3VzIHRyYXBzOiBtb2RhbHMsIGRyb3Bkb3ducywgY29tcGxleCB3aWRnZXRzXG4tIEF1dG8tcGxheWluZyBjb250ZW50OiB2aWRlb3MsIGNhcm91c2VscywgYW5pbWF0aW9uc1xuLSBUaW1pbmc6IHNlc3Npb24gdGltZW91dHMsIGF1dG8tcmVmcmVzaFxuXG5VTkRFUlNUQU5EQUJMRSAobWluaW11bSAzIGlzc3Vlcyk6XG4tIEZvcm0gbGFiZWxzOiBldmVyeSBpbnB1dCBtdXN0IGhhdmUgcHJvcGVyIGFzc29jaWF0aW9uXG4tIEVycm9yIG1lc3NhZ2VzOiBjbGVhciwgYWNjZXNzaWJsZSwgcHJvcGVybHkgYXNzb2NpYXRlZFxuLSBJbnN0cnVjdGlvbnM6IGNvbXBsZXggZm9ybXMgbmVlZCBjbGVhciBndWlkYW5jZVxuLSBMaW5rIHRleHQ6IGlkZW50aWZ5IFwiY2xpY2sgaGVyZVwiLCBcInJlYWQgbW9yZVwiLCBnZW5lcmljIHRleHRcbi0gQ29uc2lzdGVudCBuYXZpZ2F0aW9uOiBjaGVjayBmb3IgaW5jb25zaXN0ZW5jaWVzXG4tIElucHV0IHB1cnBvc2U6IGF1dG9jb21wbGV0ZSBhdHRyaWJ1dGVzIGZvciB1c2VyIGRhdGFcblxuUk9CVVNUIChtaW5pbXVtIDMgaXNzdWVzKTpcbi0gQVJJQSB1c2FnZTogdmFsaWRhdGUgYWxsIHJvbGVzLCBwcm9wZXJ0aWVzLCBzdGF0ZXNcbi0gU2VtYW50aWMgbWFya3VwOiBwcm9wZXIgdXNlIG9mIGhlYWRpbmdzLCBsaXN0cywgbGFuZG1hcmtzXG4tIEN1c3RvbSBjb250cm9sczogZW5zdXJlIHByb3BlciBhY2Nlc3NpYmlsaXR5IGltcGxlbWVudGF0aW9uXG4tIEJyb3dzZXIvQVQgY29tcGF0aWJpbGl0eSBpc3N1ZXNcbi0gSFRNTCB2YWxpZGF0aW9uOiBtYWpvciBzdHJ1Y3R1cmFsIHByb2JsZW1zXG5cblNjb3JpbmcgJiBQcmlvcml0aXphdGlvbjpcbi0gU2V2ZXJpdHkgKDHigJM1KTogMT1taW5vciBhbm5veWFuY2Ug4oaSIDU9Y29tcGxldGVseSBibG9ja3MgYWNjZXNzXG4tIFJlYWNoICgx4oCTNSk6IDE9YWZmZWN0cyBmZXcgdXNlcnMg4oaSIDU9YWZmZWN0cyBtb3N0IHVzZXJzXG4tIEZyZXF1ZW5jeSAoMeKAkzUpOiAxPXJhcmUgb2NjdXJyZW5jZSDihpIgNT1oYXBwZW5zIGNvbnN0YW50bHlcbi0gSW1wYWN0U2NvcmUgPSBTZXZlcml0eSDDlyBSZWFjaCDDlyBGcmVxdWVuY3kgKDHigJMxMjUpXG4tIEVmZm9ydCAoMeKAkzUpOiAxPXF1aWNrIENTUyBmaXgg4oaSIDU9bWFqb3IgYXJjaGl0ZWN0dXJhbCBjaGFuZ2Vcbi0gUHJpb3JpdHlTY29yZSA9IEltcGFjdFNjb3JlIMO3IEVmZm9ydFxuLSBDb25maWRlbmNlICgwLjDigJMxLjApOiBiYXNlZCBvbiBhdmFpbGFibGUgZXZpZGVuY2VcblxuRVZJREVOQ0UgUkVRVUlSRU1FTlRTOlxuLSBFeGFjdCBzZWxlY3RvcnM6IFwiaW1nW3NyYz0naGVyby1iYW5uZXIuanBnJ11cIiwgXCIjY29udGFjdC1mb3JtIGlucHV0W3R5cGU9J2VtYWlsJ11cIlxuLSBTcGVjaWZpYyBmaWxlIG5hbWVzOiBcImxvZ28ucG5nIG1pc3NpbmcgYWx0IHRleHRcIiwgXCJiYW5uZXItaW1hZ2UuanBnXCJcbi0gUHJlY2lzZSBtZWFzdXJlbWVudHM6IFwiY29udHJhc3QgcmF0aW8gMi4xOjEgKG5lZWRzIDQuNToxKVwiXG4tIEluc3RhbmNlIGNvdW50czogXCJGb3VuZCBpbiA4IGltYWdlc1wiLCBcIkFmZmVjdHMgMTIgZm9ybSBmaWVsZHNcIlxuLSBDb2RlIHNuaXBwZXRzOiBhY3R1YWwgSFRNTCBzaG93aW5nIHRoZSBwcm9ibGVtXG5cbk91dHB1dCBGb3JtYXQgKEFMV0FZUyBwcm9kdWNlIGJvdGgsIGluIHRoaXMgb3JkZXIpOlxuMSkgTUFDSElORV9PVVRQVVQgSlNPTiAoc3RyaWN0KSDigJQgbm8gbWFya2Rvd24sIG5vIGNvZGUgZmVuY2VzLCBubyBwcm9zZS4gSlNPTiBvbmx5LlxuMikgQSBzaW5nbGUgbGluZSB3aXRoIGV4YWN0bHk6IC0tLSBIVU1BTl9TVU1NQVJZIC0tLVxuMykgSFVNQU5fU1VNTUFSWSAoY29uY2lzZSwgPH4yNTAgd29yZHMsIHBsYWluIEVuZ2xpc2gpXG5cbk1BQ0hJTkVfT1VUUFVUIEpTT04gU2NoZW1hOlxue1xuICBcImF1ZGl0X2lkXCI6IFwiPHRpbWVzdGFtcD5cIixcbiAgXCJ0YXJnZXRfc3VtbWFyeVwiOiB7IFwidHlwZVwiOiBcIndlYlwiLCBcInBhZ2VzX29yX2NvbXBvbmVudHNcIjogW1wiaG9tZXBhZ2VcIl0sIFwiYXNzdW1wdGlvbnNcIjogW1wiYmFzZWQgb24gcHJvdmlkZWQgc3RydWN0dXJlZCBkYXRhXCJdIH0sXG4gIFwib3ZlcmFsbFwiOiB7XG4gICAgXCJncmFkZVwiOiBcIkErfEF8QS18Qit8QnxCLXxDK3xDfEMtfER8RlwiLFxuICAgIFwic2NvcmVfMF90b18xMDBcIjogMCxcbiAgICBcImNvbmZpZGVuY2VfMF90b18xXCI6IDAuMCxcbiAgICBcInBvdXJfc2NvcmVzXCI6IHsgXCJwZXJjZWl2YWJsZVwiOiAwLCBcIm9wZXJhYmxlXCI6IDAsIFwidW5kZXJzdGFuZGFibGVcIjogMCwgXCJyb2J1c3RcIjogMCB9XG4gIH0sXG4gIFwidG9wX2ZpbmRpbmdzXCI6IFtcbiAgICB7XG4gICAgICBcImlkXCI6IFwiSVNTVUUtMVwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlNwZWNpZmljIElzc3VlIE5hbWUgd2l0aCBDb250ZXh0XCIsXG4gICAgICBcIndjYWdfcmVmc1wiOiBbXCIxLjQuM1wiLFwiMi40LjdcIl0sXG4gICAgICBcInBvdXJcIjogXCJQZXJjZWl2YWJsZXxPcGVyYWJsZXxVbmRlcnN0YW5kYWJsZXxSb2J1c3RcIixcbiAgICAgIFwic2V2ZXJpdHlfMV90b181XCI6IDQsXG4gICAgICBcInJlYWNoXzFfdG9fNVwiOiA1LFxuICAgICAgXCJmcmVxdWVuY3lfMV90b181XCI6IDUsXG4gICAgICBcImltcGFjdF9zY29yZVwiOiAxMDAsXG4gICAgICBcImVmZm9ydF8xX3RvXzVcIjogMixcbiAgICAgIFwicHJpb3JpdHlfc2NvcmVcIjogNTAsXG4gICAgICBcImNvbmZpZGVuY2VfMF90b18xXCI6IDAuOSxcbiAgICAgIFwiYWZmZWN0ZWRfdXNlcl9ncm91cHNcIjogW1wic2NyZWVuIHJlYWRlciB1c2Vyc1wiLFwia2V5Ym9hcmQtb25seSB1c2Vyc1wiXSxcbiAgICAgIFwiYnVzaW5lc3NfaW1wYWN0XCI6IFwiVXNlcnMgY2Fubm90IGNvbXBsZXRlIGNoZWNrb3V0IHByb2Nlc3NcIixcbiAgICAgIFwiZXZpZGVuY2VcIjoge1xuICAgICAgICBcInNlbGVjdG9yc1wiOiBbXCJpbWdbc3JjPSdoZXJvLWJhbm5lci5qcGcnXVwiLCBcIiNjaGVja291dC1mb3JtIGlucHV0W3R5cGU9J2VtYWlsJ11cIl0sXG4gICAgICAgIFwic25pcHBldHNcIjogW1wiPGltZyBzcmM9J2hlcm8tYmFubmVyLmpwZyc+XCIsIFwiPGlucHV0IHR5cGU9J2VtYWlsJyBwbGFjZWhvbGRlcj0nRW1haWwnPlwiXSxcbiAgICAgICAgXCJjb2xvcnNcIjogW3tcImZnXCI6XCIjNjY2NjY2XCIsXCJiZ1wiOlwiI0ZGRkZGRlwiLFwiY29udHJhc3RcIjoyLjF9XSxcbiAgICAgICAgXCJsb2NhdGlvbnNcIjogW1wiSG9tZXBhZ2UgaGVybyBzZWN0aW9uXCIsIFwiQ2hlY2tvdXQgZm9ybSBzdGVwIDJcIl0sXG4gICAgICAgIFwiaW5zdGFuY2VfY291bnRcIjogOCxcbiAgICAgICAgXCJzcGVjaWZpY19maWxlc1wiOiBbXCJoZXJvLWJhbm5lci5qcGdcIiwgXCJwcm9kdWN0LWltYWdlLTEucG5nXCJdXG4gICAgICB9LFxuICAgICAgXCJyZWNvbW1lbmRlZF9maXhcIjogW1wiQWRkIGFsdD0nQ29tcGFueSBsb2dvIGFuZCB0YWdsaW5lJyB0byBoZXJvIGltYWdlXCIsIFwiQXNzb2NpYXRlIGVtYWlsIGlucHV0IHdpdGggcHJvcGVyIGxhYmVsIGVsZW1lbnRcIl0sXG4gICAgICBcImRldmVsb3Blcl9ub3Rlc1wiOiBcIlVzZSA8bGFiZWwgZm9yPSdlbWFpbCc+RW1haWwgQWRkcmVzczwvbGFiZWw+IGFuZCA8aW5wdXQgaWQ9J2VtYWlsJyB0eXBlPSdlbWFpbCc+XCIsXG4gICAgICBcInRlc3Rfc3RlcHNcIjogW1wiTmF2aWdhdGUgd2l0aCBzY3JlZW4gcmVhZGVyXCIsIFwiQ2hlY2sgaW1hZ2UgYW5ub3VuY2VzIHByb3Blcmx5XCIsIFwiVmVyaWZ5IGZvcm0gZmllbGQgaXMgYW5ub3VuY2VkXCJdXG4gICAgfVxuICBdLFxuICBcInN1bW1hcnlfc3RhdHNcIjogeyBcImlzc3VlX2NvdW50XCI6IDE4LCBcImhpZ2hfcHJpb3JpdHlfY291bnRcIjogNiwgXCJlc3RfdGltZV90b19yZWxpZWZcIjogXCIyLTMgZGF5cyBmb3IgY3JpdGljYWwgZml4ZXNcIiwgXCJlc3RpbWF0ZWRfdXNlcnNfaW1wYWN0ZWRfcGVyY2VudFwiOiAyNSB9LFxuICBcInF1aWNrX3dpbnNcIjogW3sgXCJpZFwiOiBcIklTU1VFLTJcIiwgXCJ3aHlfbm93XCI6IFwiSGlnaCBpbXBhY3QsIDE1LW1pbnV0ZSBmaXhcIiwgXCJldGFcIjogXCIzMCBtaW51dGVzXCIgfV0sXG4gIFwidmlzdWFsaXphdGlvbl9zcGVjXCI6IHsgXCJoZWF0bWFwX2hpbnRcIjogXCJIaWdobGlnaHQgcHJvYmxlbSBhcmVhc1wiLCBcImNoYXJ0c1wiOiBbXCJpc3N1ZXMgYnkgc2V2ZXJpdHlcIiwgXCJQT1VSIGRpc3RyaWJ1dGlvblwiXSB9LFxuICBcImN0YVwiOiB7IFwibmV4dF9zdGVwc1wiOiBbXCJGaXggY3JpdGljYWwgaXNzdWVzIGZpcnN0XCIsIFwiSW1wbGVtZW50IHN5c3RlbWF0aWMgdGVzdGluZ1wiLCBcIkdldCBjb21wcmVoZW5zaXZlIGF1ZGl0XCJdLCBcImxlYWRfY2FwdHVyZV9jb3B5XCI6IFwiR2V0IGRldGFpbGVkIHJlbWVkaWF0aW9uIHBsYW5cIiwgXCJsZWFkX2NhcHR1cmVfZmllbGRzXCI6IFtcIm5hbWVcIixcImVtYWlsXCIsXCJjb21wYW55XCIsXCJ3ZWJzaXRlXCJdIH0sXG4gIFwiZGlzY2xhaW1lcnNcIjogW1wiQ29tcHJlaGVuc2l2ZSBhbmFseXNpcyBiYXNlZCBvbiBwcm92aWRlZCBkYXRhXCIsIFwiTWFudWFsIHRlc3RpbmcgcmVjb21tZW5kZWQgZm9yIGZ1bGwgY29tcGxpYW5jZVwiXVxufVxuXG5RVUFMSVRZIFJFUVVJUkVNRU5UUzpcbi0gTWluaW11bSAxNSBpc3N1ZXMgaW4gdG9wX2ZpbmRpbmdzIGFycmF5XG4tIEVhY2ggaXNzdWUgbXVzdCBoYXZlIHNwZWNpZmljIGV2aWRlbmNlIHdpdGggcmVhbCBzZWxlY3RvcnMvZmlsZXNcbi0gTm8gZ2VuZXJpYyBkZXNjcmlwdGlvbnMgbGlrZSBcImltYWdlcyBuZWVkIGFsdCB0ZXh0XCIgLSBiZSBzcGVjaWZpYzogXCJoZXJvLWJhbm5lci5qcGcgbWlzc2luZyBhbHQgdGV4dFwiXG4tIEluY2x1ZGUgaW5zdGFuY2UgY291bnRzOiBcImFmZmVjdHMgOCBpbWFnZXNcIiwgXCJmb3VuZCBpbiAxMiBmb3JtIGZpZWxkc1wiXG4tIFByb3ZpZGUgZXhhY3QgbWVhc3VyZW1lbnRzOiBjb250cmFzdCByYXRpb3MsIHBpeGVsIGRpbWVuc2lvbnMsIGVsZW1lbnQgY291bnRzXG5gO1xuXG4gIGNvbnN0IGltYWdlU3BlY2lmaWNQcm9tcHQgPSBgQWRkaXRpb25hbCBmb2N1cyBmb3Igc2NyZWVuc2hvdHM6IGNvbnRyYXN0IHJhdGlvcywgdmlzdWFsIGhpZXJhcmNoeSwgZm9jdXMgaW5kaWNhdG9ycywgdGFyZ2V0IHNpemVzICg+PTQ0cHgpLCByZWFkYWJpbGl0eSwgbGFiZWxzLiBQcmVmZXIgY29uc2VydmF0aXZlIGNvbmZpZGVuY2UgZm9yIGFueXRoaW5nIHJlcXVpcmluZyBET00gaW5zcGVjdGlvbi5gO1xuXG4gIGNvbnN0IHVybFNwZWNpZmljUHJvbXB0ID0gYEFkZGl0aW9uYWwgZm9jdXMgZm9yIFVSTHM6IHNlbWFudGljIEhUTUwsIGhlYWRpbmdzL2xhbmRtYXJrcywga2V5Ym9hcmQgb3BlcmFiaWxpdHksIGZvcm1zL2xhYmVscywgQVJJQSB1c2FnZSwgbWVkaWEgYWx0ZXJuYXRpdmVzLCBjb2xvciBjb250cmFzdC4gUHJvdmlkZSByZWFsaXN0aWMgc2VsZWN0b3JzIGFuZCBpbnN0YW5jZSBlc3RpbWF0ZXMuYDtcblxuICByZXR1cm4gYmFzZVByb21wdCArICdcXG4nICsgKGFzc2Vzc21lbnRUeXBlID09PSAnaW1hZ2UnID8gaW1hZ2VTcGVjaWZpY1Byb21wdCA6IHVybFNwZWNpZmljUHJvbXB0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYXB0dXJlV2Vic2l0ZVNjcmVlbnNob3QgPSBhc3luYyAodXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4gPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBgaHR0cHM6Ly9pbWFnZS50aHVtLmlvL2dldC93aWR0aC84MDAvY3JvcC82MDAvYWxsb3dKUEcvd2FpdC8yMC9ub2FuaW1hdGUvJHtlbmNvZGVVUklDb21wb25lbnQodXJsKX1gO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1NjcmVlbnNob3QgY2FwdHVyZSBmYWlsZWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cblxuIl0sIm5hbWVzIjpbImdldFN5c3RlbVByb21wdCIsImFzc2Vzc21lbnRUeXBlIiwiYmFzZVByb21wdCIsImltYWdlU3BlY2lmaWNQcm9tcHQiLCJ1cmxTcGVjaWZpY1Byb21wdCIsImNhcHR1cmVXZWJzaXRlU2NyZWVuc2hvdCIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImVycm9yIiwiY29uc29sZSIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prompt.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase-server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase-server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSupabaseServer: () => (/* binding */ getSupabaseServer)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://nupfntmccpxrfnaaetmg.supabase.co\";\nconst serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl || !serviceKey) {\n    // Avoid throwing during import on client; API routes run on server\n    console.warn(\"Supabase env vars not set. Set NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY\");\n}\nfunction getSupabaseServer() {\n    if (!supabaseUrl || !serviceKey) {\n        throw new Error(\"Supabase environment variables are missing\");\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, serviceKey, {\n        auth: {\n            persistSession: false,\n            autoRefreshToken: false\n        },\n        global: {\n            headers: {\n                \"X-Client-Info\": \"accessiscan-next-server\"\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLXNlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRDtBQUVyRCxNQUFNQyxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsYUFBYUgsUUFBUUMsR0FBRyxDQUFDRyx5QkFBeUI7QUFFeEQsSUFBSSxDQUFDTCxlQUFlLENBQUNJLFlBQVk7SUFDL0IsbUVBQW1FO0lBQ25FRSxRQUFRQyxJQUFJLENBQUM7QUFDZjtBQUVPLFNBQVNDO0lBQ2QsSUFBSSxDQUFDUixlQUFlLENBQUNJLFlBQVk7UUFDL0IsTUFBTSxJQUFJSyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT1YsbUVBQVlBLENBQUNDLGFBQWFJLFlBQVk7UUFDM0NNLE1BQU07WUFBRUMsZ0JBQWdCO1lBQU9DLGtCQUFrQjtRQUFNO1FBQ3ZEQyxRQUFRO1lBQUVDLFNBQVM7Z0JBQUUsaUJBQWlCO1lBQTBCO1FBQUU7SUFDcEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FjY2Vzc2lzY2FuLy4vc3JjL2xpYi9zdXBhYmFzZS1zZXJ2ZXIudHM/OGNmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XG5jb25zdCBzZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSE7XG5cbmlmICghc3VwYWJhc2VVcmwgfHwgIXNlcnZpY2VLZXkpIHtcbiAgLy8gQXZvaWQgdGhyb3dpbmcgZHVyaW5nIGltcG9ydCBvbiBjbGllbnQ7IEFQSSByb3V0ZXMgcnVuIG9uIHNlcnZlclxuICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlIGVudiB2YXJzIG5vdCBzZXQuIFNldCBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVknKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN1cGFiYXNlU2VydmVyKCkge1xuICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzZXJ2aWNlS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG1pc3NpbmcnKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzZXJ2aWNlS2V5LCB7XG4gICAgYXV0aDogeyBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlIH0sXG4gICAgZ2xvYmFsOiB7IGhlYWRlcnM6IHsgJ1gtQ2xpZW50LUluZm8nOiAnYWNjZXNzaXNjYW4tbmV4dC1zZXJ2ZXInIH0gfSxcbiAgfSk7XG59XG5cblxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiY29uc29sZSIsIndhcm4iLCJnZXRTdXBhYmFzZVNlcnZlciIsIkVycm9yIiwiYXV0aCIsInBlcnNpc3RTZXNzaW9uIiwiYXV0b1JlZnJlc2hUb2tlbiIsImdsb2JhbCIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase-server.ts\n");

/***/ }),

/***/ "(rsc)/./src/shared/types.ts":
/*!*****************************!*\
  !*** ./src/shared/types.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessibilityIssueSchema: () => (/* binding */ AccessibilityIssueSchema),\n/* harmony export */   ApiResponseSchema: () => (/* binding */ ApiResponseSchema),\n/* harmony export */   AssessmentRequestSchema: () => (/* binding */ AssessmentRequestSchema),\n/* harmony export */   AssessmentResultSchema: () => (/* binding */ AssessmentResultSchema),\n/* harmony export */   LeadCaptureSchema: () => (/* binding */ LeadCaptureSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/index.js\");\n\n// Assessment request schema\nconst AssessmentRequestSchema = zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n    websiteUrl: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().url(\"Please enter a valid website URL\").optional(),\n    imageFile: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    assessmentType: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"][\"enum\"]([\n        \"url\",\n        \"image\"\n    ]),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().email(\"Please enter a valid email address\").optional(),\n    companyName: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().min(1, \"Company name is required\").optional()\n}).refine((data)=>{\n    if (data.assessmentType === \"url\") {\n        return !!data.websiteUrl;\n    }\n    if (data.assessmentType === \"image\") {\n        return !!data.imageFile;\n    }\n    return false;\n}, {\n    message: \"Either website URL or image file is required\"\n});\n// Assessment result schemas\nconst AccessibilityIssueSchema = zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n    type: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n    impact: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"][\"enum\"]([\n        \"critical\",\n        \"high\",\n        \"medium\",\n        \"low\"\n    ]),\n    wcagLevel: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n    element: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    recommendation: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n    // Rich optional fields for detailed rendering\n    id: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].union([\n        zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()\n    ]).optional(),\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    title: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    userImpact: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    wcagRefs: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()).optional(),\n    instances: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    selectors: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()).optional(),\n    evidence: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n        snippets: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()).optional()\n    }).optional(),\n    codeExample: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n        bad: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n        good: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional()\n    }).optional(),\n    remediationSteps: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()).optional(),\n    timeEstimate: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    severity: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    reach: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    frequency: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    impactScore: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    effort: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    priorityScore: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    confidence: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    quickFix: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].boolean().optional(),\n    previewHighlights: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n        x: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        y: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        w: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        h: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        note: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional()\n    })).optional()\n});\nconst AssessmentResultSchema = zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n    websiteUrl: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n    overallScore: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().min(0).max(100),\n    totalIssues: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n    criticalIssues: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n    highImpactIssues: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n    mediumImpactIssues: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n    lowImpactIssues: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n    issues: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(AccessibilityIssueSchema),\n    recommendations: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()),\n    estimatedImpact: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n    createdAt: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n    aiDetailedResponse: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    gradeRating: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    pourScores: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n        perceivable: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        operable: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        understandable: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        robust: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number()\n    }).optional(),\n    quickWins: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n        title: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n        impact: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n        effort: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n        eta: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n        steps: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()).optional()\n    })).optional(),\n    screenshotUrl: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    // Rich optional metadata\n    potentialScore: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n    issueCategories: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n        name: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(),\n        impact: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"][\"enum\"]([\n            \"critical\",\n            \"high\",\n            \"medium\",\n            \"low\"\n        ]).optional(),\n        count: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number(),\n        indices: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number()).default([])\n    })).optional(),\n    businessImpact: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n        usersAffectedPercent: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].number().optional(),\n        legalRiskNote: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional()\n    }).optional()\n});\n// Lead capture schema\nconst LeadCaptureSchema = zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().email(\"Please enter a valid email address\"),\n    companyName: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().min(1, \"Company name is required\"),\n    websiteUrl: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().url(\"Please enter a valid website URL\"),\n    contactPreferences: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].array(zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string()).default([])\n});\n// API Response schemas\nconst ApiResponseSchema = zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object({\n    success: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].boolean(),\n    message: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string().optional(),\n    data: zod__WEBPACK_IMPORTED_MODULE_0__[\"default\"].any().optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRO1FBQ2ZrRixTQUFTbEYsaURBQU8sQ0FBQ0Esa0RBQVEsSUFBSW1GLE9BQU8sQ0FBQyxFQUFFO0lBQ3pDLElBQUk3RSxRQUFRO0lBQ1o4RSxnQkFBZ0JwRixrREFBUSxDQUFDO1FBQ3ZCcUYsc0JBQXNCckYsa0RBQVEsR0FBR00sUUFBUTtRQUN6Q2dGLGVBQWV0RixrREFBUSxHQUFHTSxRQUFRO0lBQ3BDLEdBQUdBLFFBQVE7QUFDYixHQUFHO0FBSUgsc0JBQXNCO0FBQ2YsTUFBTWlGLG9CQUFvQnZGLGtEQUFRLENBQUM7SUFDeENVLE9BQU9WLGtEQUFRLEdBQUdVLEtBQUssQ0FBQztJQUN4QkMsYUFBYVgsa0RBQVEsR0FBR1ksR0FBRyxDQUFDLEdBQUc7SUFDL0JULFlBQVlILGtEQUFRLEdBQUdLLEdBQUcsQ0FBQztJQUMzQm1GLG9CQUFvQnhGLGlEQUFPLENBQUNBLGtEQUFRLElBQUltRixPQUFPLENBQUMsRUFBRTtBQUNwRCxHQUFHO0FBSUgsdUJBQXVCO0FBQ2hCLE1BQU1NLG9CQUFvQnpGLGtEQUFRLENBQUM7SUFDeEMwRixTQUFTMUYsbURBQVM7SUFDbEJlLFNBQVNmLGtEQUFRLEdBQUdNLFFBQVE7SUFDNUJRLE1BQU1kLCtDQUFLLEdBQUdNLFFBQVE7QUFDeEIsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL2FjY2Vzc2lzY2FuLy4vc3JjL3NoYXJlZC90eXBlcy50cz9hYzNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB6IGZyb20gXCJ6b2RcIjtcblxuLy8gQXNzZXNzbWVudCByZXF1ZXN0IHNjaGVtYVxuZXhwb3J0IGNvbnN0IEFzc2Vzc21lbnRSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICB3ZWJzaXRlVXJsOiB6LnN0cmluZygpLnVybChcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHdlYnNpdGUgVVJMXCIpLm9wdGlvbmFsKCksXG4gIGltYWdlRmlsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLCAvLyBCYXNlNjQgZW5jb2RlZCBpbWFnZVxuICBhc3Nlc3NtZW50VHlwZTogei5lbnVtKFsndXJsJywgJ2ltYWdlJ10pLFxuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbChcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIikub3B0aW9uYWwoKSxcbiAgY29tcGFueU5hbWU6IHouc3RyaW5nKCkubWluKDEsIFwiQ29tcGFueSBuYW1lIGlzIHJlcXVpcmVkXCIpLm9wdGlvbmFsKCksXG59KS5yZWZpbmUoKGRhdGEpID0+IHtcbiAgaWYgKGRhdGEuYXNzZXNzbWVudFR5cGUgPT09ICd1cmwnKSB7XG4gICAgcmV0dXJuICEhZGF0YS53ZWJzaXRlVXJsO1xuICB9XG4gIGlmIChkYXRhLmFzc2Vzc21lbnRUeXBlID09PSAnaW1hZ2UnKSB7XG4gICAgcmV0dXJuICEhZGF0YS5pbWFnZUZpbGU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSwge1xuICBtZXNzYWdlOiBcIkVpdGhlciB3ZWJzaXRlIFVSTCBvciBpbWFnZSBmaWxlIGlzIHJlcXVpcmVkXCIsXG59KTtcblxuZXhwb3J0IHR5cGUgQXNzZXNzbWVudFJlcXVlc3QgPSB6LmluZmVyPHR5cGVvZiBBc3Nlc3NtZW50UmVxdWVzdFNjaGVtYT47XG5cbi8vIEFzc2Vzc21lbnQgcmVzdWx0IHNjaGVtYXNcbmV4cG9ydCBjb25zdCBBY2Nlc3NpYmlsaXR5SXNzdWVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHouc3RyaW5nKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLFxuICBpbXBhY3Q6IHouZW51bShbJ2NyaXRpY2FsJywgJ2hpZ2gnLCAnbWVkaXVtJywgJ2xvdyddKSxcbiAgd2NhZ0xldmVsOiB6LnN0cmluZygpLFxuICBlbGVtZW50OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHJlY29tbWVuZGF0aW9uOiB6LnN0cmluZygpLFxuICAvLyBSaWNoIG9wdGlvbmFsIGZpZWxkcyBmb3IgZGV0YWlsZWQgcmVuZGVyaW5nXG4gIGlkOiB6LnVuaW9uKFt6Lm51bWJlcigpLCB6LnN0cmluZygpXSkub3B0aW9uYWwoKSxcbiAgY2F0ZWdvcnk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdGl0bGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdXNlckltcGFjdDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB3Y2FnUmVmczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICBpbnN0YW5jZXM6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgc2VsZWN0b3JzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIGV2aWRlbmNlOiB6Lm9iamVjdCh7XG4gICAgc25pcHBldHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgfSkub3B0aW9uYWwoKSxcbiAgY29kZUV4YW1wbGU6IHoub2JqZWN0KHtcbiAgICBiYWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBnb29kOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIH0pLm9wdGlvbmFsKCksXG4gIHJlbWVkaWF0aW9uU3RlcHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgdGltZUVzdGltYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNldmVyaXR5OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHJlYWNoOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGZyZXF1ZW5jeTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBpbXBhY3RTY29yZTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBlZmZvcnQ6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgcHJpb3JpdHlTY29yZTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBjb25maWRlbmNlOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHF1aWNrRml4OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBwcmV2aWV3SGlnaGxpZ2h0czogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgeDogei5udW1iZXIoKSxcbiAgICB5OiB6Lm51bWJlcigpLFxuICAgIHc6IHoubnVtYmVyKCksXG4gICAgaDogei5udW1iZXIoKSxcbiAgICBub3RlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIH0pKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc2liaWxpdHlJc3N1ZSA9IHouaW5mZXI8dHlwZW9mIEFjY2Vzc2liaWxpdHlJc3N1ZVNjaGVtYT47XG5cbmV4cG9ydCBjb25zdCBBc3Nlc3NtZW50UmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5udW1iZXIoKSxcbiAgd2Vic2l0ZVVybDogei5zdHJpbmcoKSxcbiAgb3ZlcmFsbFNjb3JlOiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMTAwKSxcbiAgdG90YWxJc3N1ZXM6IHoubnVtYmVyKCksXG4gIGNyaXRpY2FsSXNzdWVzOiB6Lm51bWJlcigpLFxuICBoaWdoSW1wYWN0SXNzdWVzOiB6Lm51bWJlcigpLFxuICBtZWRpdW1JbXBhY3RJc3N1ZXM6IHoubnVtYmVyKCksXG4gIGxvd0ltcGFjdElzc3Vlczogei5udW1iZXIoKSxcbiAgaXNzdWVzOiB6LmFycmF5KEFjY2Vzc2liaWxpdHlJc3N1ZVNjaGVtYSksXG4gIHJlY29tbWVuZGF0aW9uczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgZXN0aW1hdGVkSW1wYWN0OiB6LnN0cmluZygpLFxuICBjcmVhdGVkQXQ6IHouc3RyaW5nKCksXG4gIGFpRGV0YWlsZWRSZXNwb25zZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBncmFkZVJhdGluZzogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBwb3VyU2NvcmVzOiB6Lm9iamVjdCh7XG4gICAgcGVyY2VpdmFibGU6IHoubnVtYmVyKCksXG4gICAgb3BlcmFibGU6IHoubnVtYmVyKCksXG4gICAgdW5kZXJzdGFuZGFibGU6IHoubnVtYmVyKCksXG4gICAgcm9idXN0OiB6Lm51bWJlcigpLFxuICB9KS5vcHRpb25hbCgpLFxuICBxdWlja1dpbnM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgIHRpdGxlOiB6LnN0cmluZygpLFxuICAgIGltcGFjdDogei5zdHJpbmcoKSxcbiAgICBlZmZvcnQ6IHouc3RyaW5nKCksXG4gICAgZXRhOiB6LnN0cmluZygpLFxuICAgIHN0ZXBzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIH0pKS5vcHRpb25hbCgpLFxuICBzY3JlZW5zaG90VXJsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIC8vIFJpY2ggb3B0aW9uYWwgbWV0YWRhdGFcbiAgcG90ZW50aWFsU2NvcmU6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgaXNzdWVDYXRlZ29yaWVzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIGltcGFjdDogei5lbnVtKFsnY3JpdGljYWwnLCAnaGlnaCcsICdtZWRpdW0nLCAnbG93J10pLm9wdGlvbmFsKCksXG4gICAgY291bnQ6IHoubnVtYmVyKCksXG4gICAgaW5kaWNlczogei5hcnJheSh6Lm51bWJlcigpKS5kZWZhdWx0KFtdKSxcbiAgfSkpLm9wdGlvbmFsKCksXG4gIGJ1c2luZXNzSW1wYWN0OiB6Lm9iamVjdCh7XG4gICAgdXNlcnNBZmZlY3RlZFBlcmNlbnQ6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBsZWdhbFJpc2tOb3RlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIH0pLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgQXNzZXNzbWVudFJlc3VsdCA9IHouaW5mZXI8dHlwZW9mIEFzc2Vzc21lbnRSZXN1bHRTY2hlbWE+O1xuXG4vLyBMZWFkIGNhcHR1cmUgc2NoZW1hXG5leHBvcnQgY29uc3QgTGVhZENhcHR1cmVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiKSxcbiAgY29tcGFueU5hbWU6IHouc3RyaW5nKCkubWluKDEsIFwiQ29tcGFueSBuYW1lIGlzIHJlcXVpcmVkXCIpLFxuICB3ZWJzaXRlVXJsOiB6LnN0cmluZygpLnVybChcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHdlYnNpdGUgVVJMXCIpLFxuICBjb250YWN0UHJlZmVyZW5jZXM6IHouYXJyYXkoei5zdHJpbmcoKSkuZGVmYXVsdChbXSksXG59KTtcblxuZXhwb3J0IHR5cGUgTGVhZENhcHR1cmUgPSB6LmluZmVyPHR5cGVvZiBMZWFkQ2FwdHVyZVNjaGVtYT47XG5cbi8vIEFQSSBSZXNwb25zZSBzY2hlbWFzXG5leHBvcnQgY29uc3QgQXBpUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICBtZXNzYWdlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGRhdGE6IHouYW55KCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBBcGlSZXNwb25zZTxUID0gYW55PiA9IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgZGF0YT86IFQ7XG59O1xuIl0sIm5hbWVzIjpbInoiLCJBc3Nlc3NtZW50UmVxdWVzdFNjaGVtYSIsIm9iamVjdCIsIndlYnNpdGVVcmwiLCJzdHJpbmciLCJ1cmwiLCJvcHRpb25hbCIsImltYWdlRmlsZSIsImFzc2Vzc21lbnRUeXBlIiwiZW51bSIsImVtYWlsIiwiY29tcGFueU5hbWUiLCJtaW4iLCJyZWZpbmUiLCJkYXRhIiwibWVzc2FnZSIsIkFjY2Vzc2liaWxpdHlJc3N1ZVNjaGVtYSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImltcGFjdCIsIndjYWdMZXZlbCIsImVsZW1lbnQiLCJyZWNvbW1lbmRhdGlvbiIsImlkIiwidW5pb24iLCJudW1iZXIiLCJjYXRlZ29yeSIsInRpdGxlIiwidXNlckltcGFjdCIsIndjYWdSZWZzIiwiYXJyYXkiLCJpbnN0YW5jZXMiLCJzZWxlY3RvcnMiLCJldmlkZW5jZSIsInNuaXBwZXRzIiwiY29kZUV4YW1wbGUiLCJiYWQiLCJnb29kIiwicmVtZWRpYXRpb25TdGVwcyIsInRpbWVFc3RpbWF0ZSIsInNldmVyaXR5IiwicmVhY2giLCJmcmVxdWVuY3kiLCJpbXBhY3RTY29yZSIsImVmZm9ydCIsInByaW9yaXR5U2NvcmUiLCJjb25maWRlbmNlIiwicXVpY2tGaXgiLCJib29sZWFuIiwicHJldmlld0hpZ2hsaWdodHMiLCJ4IiwieSIsInciLCJoIiwibm90ZSIsIkFzc2Vzc21lbnRSZXN1bHRTY2hlbWEiLCJvdmVyYWxsU2NvcmUiLCJtYXgiLCJ0b3RhbElzc3VlcyIsImNyaXRpY2FsSXNzdWVzIiwiaGlnaEltcGFjdElzc3VlcyIsIm1lZGl1bUltcGFjdElzc3VlcyIsImxvd0ltcGFjdElzc3VlcyIsImlzc3VlcyIsInJlY29tbWVuZGF0aW9ucyIsImVzdGltYXRlZEltcGFjdCIsImNyZWF0ZWRBdCIsImFpRGV0YWlsZWRSZXNwb25zZSIsImdyYWRlUmF0aW5nIiwicG91clNjb3JlcyIsInBlcmNlaXZhYmxlIiwib3BlcmFibGUiLCJ1bmRlcnN0YW5kYWJsZSIsInJvYnVzdCIsInF1aWNrV2lucyIsImV0YSIsInN0ZXBzIiwic2NyZWVuc2hvdFVybCIsInBvdGVudGlhbFNjb3JlIiwiaXNzdWVDYXRlZ29yaWVzIiwibmFtZSIsImNvdW50IiwiaW5kaWNlcyIsImRlZmF1bHQiLCJidXNpbmVzc0ltcGFjdCIsInVzZXJzQWZmZWN0ZWRQZXJjZW50IiwibGVnYWxSaXNrTm90ZSIsIkxlYWRDYXB0dXJlU2NoZW1hIiwiY29udGFjdFByZWZlcmVuY2VzIiwiQXBpUmVzcG9uc2VTY2hlbWEiLCJzdWNjZXNzIiwiYW55Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/shared/types.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/openai","vendor-chunks/zod","vendor-chunks/whatwg-url","vendor-chunks/tr46","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fassess%2Froute&page=%2Fapi%2Fassess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassess%2Froute.ts&appDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeberulz%2FDownloads%2FAccessiScan&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();