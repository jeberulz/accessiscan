"use strict";(()=>{var e={};e.id=829,e.ids=[829,48],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},1871:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>S,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>u,runtime:()=>p});var a=r(3278),n=r(5002),o=r(4877),i=r(1048);let p="nodejs";async function u(){let e=new Date().toISOString();try{let t={status:"ok",timestamp:e,services:{api:"healthy",database:"unknown",openai:process.env.OPENAI_API_KEY?"configured":"not configured"}};try{let e=(0,i.getSupabaseServer)(),{data:r,error:s}=await e.from("assessments").select("id").limit(1);s?t.services.database=`error: ${s.message}`:t.services.database="healthy"}catch(e){t.services.database=`connection error: ${e.message}`}return new Response(JSON.stringify(t),{headers:{"content-type":"application/json"}})}catch(t){return new Response(JSON.stringify({status:"error",timestamp:e,error:t.message}),{status:500,headers:{"content-type":"application/json"}})}}let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/Users/jeberulz/Downloads/AccessiScan/src/app/api/health/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h}=c,v="/api/health/route";function S(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},3278:(e,t,r)=>{e.exports=r(517)},1048:(e,t,r)=>{r.d(t,{getSupabaseServer:()=>o});var s=r(8823);let a="https://nupfntmccpxrfnaaetmg.supabase.co",n=process.env.SUPABASE_SERVICE_ROLE_KEY;function o(){if(!a||!n)throw Error("Supabase environment variables are missing");return(0,s.eI)(a,n,{auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{"X-Client-Info":"accessiscan-next-server"}}})}a&&n||console.warn("Supabase env vars not set. Set NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,823],()=>r(1871));module.exports=s})();