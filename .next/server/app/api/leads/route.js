"use strict";(()=>{var e={};e.id=350,e.ids=[350,48],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},3838:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>d,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>P,serverHooks:()=>Z,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{POST:()=>u,runtime:()=>p});var n=r(3278),i=r(5002),s=r(4877),o=r(6555),l=r(1048);let p="nodejs";async function u(e){try{let t=await e.json(),r=o.AF.parse(t),a=(0,l.getSupabaseServer)(),{data:n,error:i}=await a.from("leads").insert({email:r.email,company_name:r.companyName,website_url:r.websiteUrl,contact_preferences:r.contactPreferences}).select("id, created_at").single();if(i)throw i;let s={success:!0,message:"Thank you for your interest! We'll be in touch soon.",data:{id:n.id}};return new Response(JSON.stringify(s),{headers:{"content-type":"application/json"}})}catch(e){return console.error("Lead capture error:",e),new Response(JSON.stringify({success:!1,message:"Failed to capture lead information"}),{status:500,headers:{"content-type":"application/json"}})}}let P=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/leads/route",pathname:"/api/leads",filename:"route",bundlePath:"app/api/leads/route"},resolvedPagePath:"/Users/jeberulz/Downloads/AccessiScan/src/app/api/leads/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:Z}=P,d="/api/leads/route";function g(){return(0,s.patchFetch)({serverHooks:Z,staticGenerationAsyncStorage:m})}},1048:(e,t,r)=>{r.d(t,{getSupabaseServer:()=>s});var a=r(8823);let n="https://nupfntmccpxrfnaaetmg.supabase.co",i=process.env.SUPABASE_SERVICE_ROLE_KEY;function s(){if(!n||!i)throw Error("Supabase environment variables are missing");return(0,a.eI)(n,i,{auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{"X-Client-Info":"accessiscan-next-server"}}})}n&&i||console.warn("Supabase env vars not set. Set NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY")},6555:(e,t,r)=>{r.d(t,{AF:()=>s,Sg:()=>n});var a=r(7906);let n=a.ZP.object({websiteUrl:a.ZP.string().url("Please enter a valid website URL").optional(),imageFile:a.ZP.string().optional(),assessmentType:a.ZP.enum(["url","image"]),email:a.ZP.string().email("Please enter a valid email address").optional(),companyName:a.ZP.string().min(1,"Company name is required").optional()}).refine(e=>"url"===e.assessmentType?!!e.websiteUrl:"image"===e.assessmentType&&!!e.imageFile,{message:"Either website URL or image file is required"}),i=a.ZP.object({type:a.ZP.string(),description:a.ZP.string(),impact:a.ZP.enum(["critical","high","medium","low"]),wcagLevel:a.ZP.string(),element:a.ZP.string().optional(),recommendation:a.ZP.string(),id:a.ZP.union([a.ZP.number(),a.ZP.string()]).optional(),category:a.ZP.string().optional(),title:a.ZP.string().optional(),userImpact:a.ZP.string().optional(),wcagRefs:a.ZP.array(a.ZP.string()).optional(),instances:a.ZP.number().optional(),selectors:a.ZP.array(a.ZP.string()).optional(),evidence:a.ZP.object({snippets:a.ZP.array(a.ZP.string()).optional()}).optional(),codeExample:a.ZP.object({bad:a.ZP.string().optional(),good:a.ZP.string().optional()}).optional(),remediationSteps:a.ZP.array(a.ZP.string()).optional(),timeEstimate:a.ZP.string().optional(),severity:a.ZP.number().optional(),reach:a.ZP.number().optional(),frequency:a.ZP.number().optional(),impactScore:a.ZP.number().optional(),effort:a.ZP.number().optional(),priorityScore:a.ZP.number().optional(),confidence:a.ZP.number().optional(),quickFix:a.ZP.boolean().optional(),previewHighlights:a.ZP.array(a.ZP.object({x:a.ZP.number(),y:a.ZP.number(),w:a.ZP.number(),h:a.ZP.number(),note:a.ZP.string().optional()})).optional()});a.ZP.object({id:a.ZP.number(),websiteUrl:a.ZP.string(),overallScore:a.ZP.number().min(0).max(100),totalIssues:a.ZP.number(),criticalIssues:a.ZP.number(),highImpactIssues:a.ZP.number(),mediumImpactIssues:a.ZP.number(),lowImpactIssues:a.ZP.number(),issues:a.ZP.array(i),recommendations:a.ZP.array(a.ZP.string()),estimatedImpact:a.ZP.string(),createdAt:a.ZP.string(),aiDetailedResponse:a.ZP.string().optional(),gradeRating:a.ZP.string().optional(),pourScores:a.ZP.object({perceivable:a.ZP.number(),operable:a.ZP.number(),understandable:a.ZP.number(),robust:a.ZP.number()}).optional(),quickWins:a.ZP.array(a.ZP.object({title:a.ZP.string(),impact:a.ZP.string(),effort:a.ZP.string(),eta:a.ZP.string(),steps:a.ZP.array(a.ZP.string()).optional()})).optional(),screenshotUrl:a.ZP.string().optional(),potentialScore:a.ZP.number().optional(),issueCategories:a.ZP.array(a.ZP.object({name:a.ZP.string(),impact:a.ZP.enum(["critical","high","medium","low"]).optional(),count:a.ZP.number(),indices:a.ZP.array(a.ZP.number()).default([])})).optional(),businessImpact:a.ZP.object({usersAffectedPercent:a.ZP.number().optional(),legalRiskNote:a.ZP.string().optional()}).optional()});let s=a.ZP.object({email:a.ZP.string().email("Please enter a valid email address"),companyName:a.ZP.string().min(1,"Company name is required"),websiteUrl:a.ZP.string().url("Please enter a valid website URL"),contactPreferences:a.ZP.array(a.ZP.string()).default([])});a.ZP.object({success:a.ZP.boolean(),message:a.ZP.string().optional(),data:a.ZP.any().optional()})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[379,823,937],()=>r(3838));module.exports=a})();